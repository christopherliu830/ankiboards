{"version":3,"sources":["components/LoadingContainer.js","components/LoadingButton.js","../../react-bootstrap-typeahead/es/constants.js","../../react-bootstrap-typeahead/es/utils/getStringLabelKey.js","../../react-bootstrap-typeahead/es/utils/nodash.js","../../react-bootstrap-typeahead/es/utils/getOptionLabel.js","../../react-bootstrap-typeahead/es/utils/addCustomOption.js","../../react-bootstrap-typeahead/es/utils/getOptionProperty.js","../../react-bootstrap-typeahead/es/utils/stripDiacritics.js","../../react-bootstrap-typeahead/es/utils/warn.js","../../react-bootstrap-typeahead/es/utils/defaultFilterBy.js","../../react-bootstrap-typeahead/es/utils/getDisplayName.js","../../react-bootstrap-typeahead/es/utils/getMatchBounds.js","../../react-bootstrap-typeahead/es/utils/getHintText.js","../../react-bootstrap-typeahead/es/utils/getMenuItemId.js","../../react-bootstrap-typeahead/es/utils/getInputProps.js","../../react-bootstrap-typeahead/es/utils/getInputText.js","../../react-bootstrap-typeahead/es/utils/getIsOnlyResult.js","../../react-bootstrap-typeahead/es/utils/getTruncatedOptions.js","../../react-bootstrap-typeahead/es/utils/getUpdatedActiveIndex.js","../../react-bootstrap-typeahead/es/utils/isSelectable.js","../../react-bootstrap-typeahead/es/utils/preventInputBlur.js","../../react-bootstrap-typeahead/es/utils/size.js","../../react-bootstrap-typeahead/es/core/Context.js","../../react-bootstrap-typeahead/es/core/TypeaheadManager.js","../../react-bootstrap-typeahead/es/propTypes.js","../../react-bootstrap-typeahead/es/core/Typeahead.js","../../react-bootstrap-typeahead/es/utils/validateSelectedPropChange.js","../../react-bootstrap-typeahead/es/utils/isShown.js","../../react-bootstrap-typeahead/es/behaviors/async.js","../../react-bootstrap-typeahead/es/components/ClearButton.js","../../react-bootstrap-typeahead/es/components/Loader.js","../../react-bootstrap-typeahead/es/components/Overlay.js","../../react-bootstrap-typeahead/es/behaviors/token.js","../../react-bootstrap-typeahead/es/components/Token.js","../../react-bootstrap-typeahead/es/components/Hint.js","../../react-bootstrap-typeahead/es/components/Input.js","../../react-bootstrap-typeahead/es/behaviors/classNames.js","../../react-bootstrap-typeahead/es/components/TypeaheadInputMulti.js","../../react-bootstrap-typeahead/es/components/TypeaheadInputSingle.js","../../react-bootstrap-typeahead/es/components/Highlighter.js","../../react-bootstrap-typeahead/es/behaviors/item.js","../../react-bootstrap-typeahead/es/components/MenuItem.js","../../react-bootstrap-typeahead/es/components/Menu.js","../../react-bootstrap-typeahead/es/components/TypeaheadMenu.js","../../react-bootstrap-typeahead/es/components/Typeahead.js","../../react-bootstrap-typeahead/es/components/AsyncTypeahead.js","pages/HomePage.js","components/FormField.js","behaviors/use-auth.js","pages/LoginPage.js","pages/SignUpPage.js","pages/ProfileSettingsPage.js","pages/UserPage.js","components/Navbar.js","App.js","serviceWorker.js","index.js"],"names":["LoadingContainer","props","Spinner","animation","role","className","LoadingButton","loaded","otherProps","onLoad","onUnload","LoadedButton","options","Component","spinnerProps","l","useEffect","children","noChildren","withLoading","as","size","Button","disabled","ALIGN","JUSTIFY","LEFT","RIGHT","getStringLabelKey","labelKey","idCounter","head","arr","Array","isArray","length","undefined","isFunction","value","isString","noop","pick","obj","keys","result","forEach","k","Object","prototype","hasOwnProperty","call","uniqueId","prefix","String","values","reduce","accum","key","propertyIsEnumerable","push","valuesPolyfill","getOptionLabel","option","paginationOption","customOption","optionLabel","invariant","addCustomOption","results","allowNew","text","trim","some","o","getOptionProperty","map","base","letters","diacriticsMap","ii","jj","stripDiacritics","str","replace","a","warned","warn","falseToWarn","message","indexOf","_len","arguments","args","_key","warning","apply","concat","isMatch","input","string","searchStr","caseSensitive","toLowerCase","ignoreDiacritics","defaultFilterBy","filterBy","multiple","selected","isEqual","fields","slice","unshift","field","getDisplayName","displayName","name","COMBINING_MARKS","getMatchBounds","subject","matches","RegExp","escapeStringRegexp","exec","start","index","matchLength","test","_ii","end","getHintText","activeIndex","initialItem","isFocused","isMenuShown","initialItemStr","bounds","getMenuItemId","id","position","_extends","assign","target","i","source","this","_objectWithoutPropertiesLoose","excluded","sourceKeys","getInputProps","_ref","onFocus","placeholder","rest","_temp","_cx","_ref2","inputProps","autoComplete","type","cx","focus","onClick","inputClassName","getInputText","activeItem","selectedItem","getIsOnlyResult","highlightOnlyResult","getTruncatedOptions","maxResults","skipDisabledOptions","currentIndex","keyCode","items","newIndex","getUpdatedActiveIndex","isSelectable","inputNode","selectionStart","preventInputBlur","e","preventDefault","isSizeLarge","isSizeSmall","TypeaheadContext","createContext","hintText","isOnlyResult","onActiveItemChange","onAdd","onInitialItemChange","onMenuItemClick","selectHintOnEnter","setItem","useTypeaheadContext","useContext","inputPropKeys","propKeys","contextKeys","TypeaheadManager","onKeyDown","onMenuToggle","prevProps","usePrevious","childProps","contextValue","React","createElement","Provider","INPUT_PROPS_BLACKLIST","alt","prop","sizeType","PropTypes","oneOf","LARGE","LG","SM","SMALL","checkPropType","validator","callback","propName","componentName","_PropTypes$checkPropT","checkPropTypes","isRequiredForA11y","optionType","oneOfType","object","_assertThisInitialized","self","ReferenceError","_defineProperty","defineProperty","enumerable","configurable","writable","reason","propTypes","bool","func","autoFocus","defaultInputValue","defaultSelected","defaultOpen","arrayOf","isRequired","number","minLength","onBlur","onChange","onInputChange","onPaginate","open","paginate","_PropTypes$checkPropT2","defaultProps","getInitialState","showMenu","shownResults","clearTypeahead","state","hideMenu","_getInitialState","toggleMenu","Typeahead","_React$Component","subClass","superClass","_this","blur","setState","item","persist","_handleChange","currentTarget","_this$props","shouldClearSelections","_getInitialState2","_handleActiveIndexChange","_handleMenuItemSelect","_handlePaginate","_handleSelectionAdd","_this$props2","selection","filter","create","constructor","__proto__","_proto","componentDidMount","componentDidUpdate","prevState","_this$props3","prevSelected","from","to","precedent","uncontrolledToControlled","validateSelectedPropChange","render","_this$props4","mergedPropsAndState","isShown","cb","_results$push","_results$push2","shouldPaginate","inputRef","_handleActiveItemChange","_handleBlur","_handleInputChange","onClear","_handleClear","_handleFocus","onHide","_handleInitialItemChange","_handleKeyDown","onRemove","_handleSelectionRemove","delay","isLoading","onSearch","promptText","node","searchText","useCache","useAsync","emptyLabel","cacheRef","useRef","queryRef","forceUpdate","useForceUpdate","handleSearch","useCallback","query","console","log","current","handleSearchDebouncedRef","useDebouncedCallback","handleInputChange","cachedQuery","withAsync","AsyncTypeahead","forwardRef","ref","label","ClearButton","_onClick","_onKeyDown","stopPropagation","Loader","SafeElement","Element","align","dropup","flip","positionFixed","referenceElement","instanceOf","getModifiers","computeStyles","enabled","fn","styles","data","width","offsets","reference","preventOverflow","escapeWithReference","PLACEMENT","bottom","top","getPlacement","_ref3","Overlay","Popper","modifiers","placement","_ref4","popperProps","innerRef","inputHeight","offsetHeight","useToken","_useState","useState","active","setActive","_useState2","rootElement","attachRef","handleActiveChange","isActive","handleBlur","handleRemove","useRootClose","withToken","WrappedToken","InteractiveToken","tabIndex","StaticToken","href","classnames","readOnly","interpolateStyle","attr","subattr","toUpperCase","dir","join","useHint","shouldSelect","Children","count","_useTypeaheadContext","hintRef","hintNode","inputStyle","window","getComputedStyle","style","borderStyle","borderWidth","fontSize","height","lineHeight","margin","padding","copyStyles","child","cloneElement","shouldSelectHint","defaultShouldSelect","Hint","_useHint","display","flex","backgroundColor","borderColor","boxShadow","color","left","pointerEvents","Input","withClassNames","WrappedComponent","isInvalid","isValid","TypeaheadInputMulti","createRef","_input","wrapperRef","lastToken","referenceElementRef","_handleContainerClickOrFocus","getInputRef","border","cursor","outline","zIndex","highlightClassName","search","Highlighter","_React$PureComponent","matchCount","remaining","highlighterChildren","nonMatch","match","PureComponent","useItem","itemRef","scrollIntoView","block","boundary","parentNode","inline","scrollMode","handleClick","onMouseDown","withItem","WrappedMenuItem","BaseMenuItem","maxHeight","Menu","scheduleUpdate","contents","overflow","newSelectionPrefix","paginationText","renderMenuItemChildren","idx","TypeaheadMenu","menuProps","menuItemProps","MenuItem","Fragment","Divider","clearButton","toString","msg","renderInput","renderMenu","renderToken","Token","RootClose","onRootClose","TypeaheadComponent","_referenceElement","commonProps","TypeaheadInputSingle","content","_this2","instanceRef","auxContent","_renderAux","_renderInput","getOverlayProps","_renderMenu","loading","setLoading","suggestions","setSuggestions","setSelected","error","setError","submitted","setSubmitted","history","useHistory","el","fetch","process","method","headers","body","JSON","stringify","then","response","ok","json","catch","err","handleSubmit","setTimeout","_id","Container","fluid","Row","Col","Form","onSubmit","Group","Text","InputGroup","Append","variant","minWidth","FormField","errorMessage","controlId","Label","Control","Collapse","in","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","authContext","ProvideAuth","auth","user","setUser","onAuthStateChanged","signin","email","password","signInWithEmailAndPassword","signout","signOut","signup","createUserWithEmailAndPassword","sendPasswordResetEmail","confirmPasswordReset","code","useProvideAuth","useAuth","emailPair","pwordPair","pword","maxWidth","pair","others","usernamePair","secondPwordPair","username","updateProfile","signupRequest","params","URLSearchParams","firebaseUid","uid","j","ProfileSettingsPage","queryId","useParams","setProfileInfo","ankiInfo","cardsStudied","userId","onLogout","Navbar","bg","expand","Brand","Link","Nav","activeKey","location","pathname","Item","eventKey","App","setUserId","useLocation","path","exact","HomePage","LoginPage","SignUpPage","UserPage","Boolean","hostname","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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IACNC,QAAS,mFACR,CACDD,KAAM,IACNC,QAAS,2GACR,CACDD,KAAM,KACNC,QAAS,UACR,CACDD,KAAM,KACNC,QAAS,UACR,CACDD,KAAM,IACNC,QAAS,+CACR,CACDD,KAAM,IACNC,QAAS,6FACR,CACDD,KAAM,KACNC,QAAS,UACR,CACDD,KAAM,KACNC,QAAS,UACR,CACDD,KAAM,IACNC,QAAS,qPACR,CACDD,KAAM,KACNC,QAAS,UACR,CACDD,KAAM,KACNC,QAAS,UACR,CACDD,KAAM,KACNC,QAAS,UACR,CACDD,KAAM,KACNC,QAAS,cACR,CACDD,KAAM,KACNC,QAAS,cACR,CACDD,KAAM,IACNC,QAAS,2DACR,CACDD,KAAM,IACNC,QAAS,mCACR,CACDD,KAAM,IACNC,QAAS,qGACR,CACDD,KAAM,IACNC,QAAS,qGACR,CACDD,KAAM,IACNC,QAAS,yFACR,CACDD,KAAM,KACNC,QAAS,UACR,CACDD,KAAM,IACNC,QAAS,mMACR,CACDD,KAAM,IACNC,QAAS,+CACR,CACDD,KAAM,KACNC,QAAS,UACR,CACDD,KAAM,IACNC,QAAS,2DACR,CACDD,KAAM,IACNC,QAAS,6BACR,CACDD,KAAM,IACNC,QAAS,uFACR,CACDD,KAAM,IACNC,QAAS,mFACR,CACDD,KAAM,IACNC,QAAS,qMACR,CACDD,KAAM,KACNC,QAAS,UACR,CACDD,KAAM,KACNC,QAAS,oBACR,CACDD,KAAM,KACNC,QAAS,UACR,CACDD,KAAM,KACNC,QAAS,UACR,CACDD,KAAM,KACNC,QAAS,gBACR,CACDD,KAAM,KACNC,QAAS,UACR,CACDD,KAAM,IACNC,QAAS,qDACR,CACDD,KAAM,IACNC,QAAS,2EACR,CACDD,KAAM,IACNC,QAAS,mFACR,CACDD,KAAM,KACNC,QAAS,gBACR,CACDD,KAAM,IACNC,QAAS,iLACR,CACDD,KAAM,IACNC,QAAS,mCACR,CACDD,KAAM,IACNC,QAAS,yFACR,CACDD,KAAM,IACNC,QAAS,yFACR,CACDD,KAAM,KACNC,QAAS,UACR,CACDD,KAAM,IACNC,QAAS,+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","file":"static/js/main.4f78281f.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Spinner from 'react-bootstrap/Spinner';\r\n\r\nexport default function LoadingContainer(props) {\r\n  return (\r\n    <Spinner animation=\"border\" role=\"status\" {...props}>\r\n      <span className=\"sr-only\">Loading...</span>\r\n    </Spinner>\r\n  )\r\n}\r\n\r\nexport const withLoading = (loaded, options) => Component => (props) => {\r\n  if (!options) options = { onLoad: null, onUnload: null };\r\n  const { onLoad, onUnload, spinnerProps} = options;\r\n  const l = loaded;\r\n  useEffect(() => {\r\n    if (loaded) {\r\n      onLoad && onLoad();\r\n    }\r\n    else {\r\n      onUnload && onUnload();\r\n    }\r\n  }, [l, onLoad, onUnload]);\r\n  const {children, ...noChildren} = props;\r\n  return loaded ? <Component {...props}/> : <Component {...noChildren}><LoadingContainer {...spinnerProps}/></Component>;\r\n}","import React from 'react';\r\nimport Button from 'react-bootstrap/Button';\r\nimport { withLoading } from './LoadingContainer';\r\n\r\nfunction LoadingButton(props) {\r\n  const { loaded, onLoad, onUnload, ...otherProps} = props;\r\n  const options = {\r\n    spinnerProps: {\r\n      as:'span',\r\n      size:'sm',\r\n      role:'status',\r\n    }\r\n  }\r\n  const LoadedButton = withLoading(loaded, options)(Button);\r\n  return <LoadedButton {...otherProps} disabled={!loaded}/>;\r\n}\r\n\r\nexport default LoadingButton;","/**\r\n * Common (non-printable) keycodes for `keydown` and `keyup` events. Note that\r\n * `keypress` handles things differently and may not return the same values.\r\n */\nexport var BACKSPACE = 8;\nexport var TAB = 9;\nexport var RETURN = 13;\nexport var ESC = 27;\nexport var SPACE = 32;\nexport var LEFT = 37;\nexport var UP = 38;\nexport var RIGHT = 39;\nexport var DOWN = 40;\nexport var DEFAULT_LABELKEY = 'label';\nexport var ALIGN = {\n  JUSTIFY: 'justify',\n  LEFT: 'left',\n  RIGHT: 'right'\n};\nexport var SIZE = {\n  LARGE: 'large',\n  LG: 'lg',\n  SM: 'sm',\n  SMALL: 'small'\n};","import { DEFAULT_LABELKEY } from '../constants';\nexport default function getStringLabelKey(labelKey) {\n  return typeof labelKey === 'string' ? labelKey : DEFAULT_LABELKEY;\n}","var idCounter = 0;\nexport function head(arr) {\n  return Array.isArray(arr) && arr.length ? arr[0] : undefined;\n}\nexport function isFunction(value) {\n  return typeof value === 'function';\n}\nexport function isString(value) {\n  return typeof value === 'string';\n}\nexport function noop() {}\nexport function pick(obj, keys) {\n  var result = {};\n  keys.forEach(function (k) {\n    if (Object.prototype.hasOwnProperty.call(obj, k)) {\n      result[k] = obj[k];\n    }\n  });\n  return result;\n}\nexport function uniqueId(prefix) {\n  idCounter += 1;\n  return (prefix == null ? '' : String(prefix)) + idCounter;\n} // Export for testing purposes.\n\nexport function valuesPolyfill(obj) {\n  return Object.keys(obj).reduce(function (accum, key) {\n    if (Object.prototype.propertyIsEnumerable.call(obj, key)) {\n      accum.push(obj[key]);\n    }\n\n    return accum;\n  }, []);\n}\nexport function values(obj) {\n  return isFunction(Object.values) ? Object.values(obj) : valuesPolyfill(obj);\n}","import invariant from 'invariant';\nimport getStringLabelKey from './getStringLabelKey';\nimport { isFunction, isString } from './nodash';\n\n/**\r\n * Retrieves the display string from an option. Options can be the string\r\n * themselves, or an object with a defined display string. Anything else throws\r\n * an error.\r\n */\nfunction getOptionLabel(option, labelKey) {\n  // Handle internally created options first.\n  if (!isString(option) && (option.paginationOption || option.customOption)) {\n    return option[getStringLabelKey(labelKey)];\n  }\n\n  var optionLabel;\n\n  if (isFunction(labelKey)) {\n    optionLabel = labelKey(option);\n  } else if (isString(option)) {\n    optionLabel = option;\n  } else {\n    // `option` is an object and `labelKey` is a string.\n    optionLabel = option[labelKey];\n  }\n\n  !isString(optionLabel) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'One or more options does not have a valid label string. Check the ' + '`labelKey` prop to ensure that it matches the correct option key and ' + 'provides a string for filtering and display.') : invariant(false) : void 0;\n  return optionLabel;\n}\n\nexport default getOptionLabel;","import getOptionLabel from './getOptionLabel';\n\nfunction addCustomOption(results, props) {\n  var allowNew = props.allowNew,\n      labelKey = props.labelKey,\n      text = props.text;\n\n  if (!allowNew || !text.trim()) {\n    return false;\n  } // If the consumer has provided a callback, use that to determine whether or\n  // not to add the custom option.\n\n\n  if (typeof allowNew === 'function') {\n    return allowNew(results, props);\n  } // By default, don't add the custom option if there is an exact text match\n  // with an existing option.\n\n\n  return !results.some(function (o) {\n    return getOptionLabel(o, labelKey) === text;\n  });\n}\n\nexport default addCustomOption;","import { isString } from './nodash';\nexport default function getOptionProperty(option, key) {\n  if (isString(option)) {\n    return undefined;\n  }\n\n  return option[key];\n}","/**\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n *\r\n * Taken from: http://stackoverflow.com/questions/990904/remove-accents-diacritics-in-a-string-in-javascript/18391901#18391901\r\n */\n\n/* eslint-disable max-len */\nvar map = [{\n  base: 'A',\n  letters: \"A\\u24B6\\uFF21\\xC0\\xC1\\xC2\\u1EA6\\u1EA4\\u1EAA\\u1EA8\\xC3\\u0100\\u0102\\u1EB0\\u1EAE\\u1EB4\\u1EB2\\u0226\\u01E0\\xC4\\u01DE\\u1EA2\\xC5\\u01FA\\u01CD\\u0200\\u0202\\u1EA0\\u1EAC\\u1EB6\\u1E00\\u0104\\u023A\\u2C6F\"\n}, {\n  base: 'AA',\n  letters: \"\\uA732\"\n}, {\n  base: 'AE',\n  letters: \"\\xC6\\u01FC\\u01E2\"\n}, {\n  base: 'AO',\n  letters: \"\\uA734\"\n}, {\n  base: 'AU',\n  letters: \"\\uA736\"\n}, {\n  base: 'AV',\n  letters: \"\\uA738\\uA73A\"\n}, {\n  base: 'AY',\n  letters: \"\\uA73C\"\n}, {\n  base: 'B',\n  letters: \"B\\u24B7\\uFF22\\u1E02\\u1E04\\u1E06\\u0243\\u0182\\u0181\"\n}, {\n  base: 'C',\n  letters: \"C\\u24B8\\uFF23\\u0106\\u0108\\u010A\\u010C\\xC7\\u1E08\\u0187\\u023B\\uA73E\"\n}, {\n  base: 'D',\n  letters: \"D\\u24B9\\uFF24\\u1E0A\\u010E\\u1E0C\\u1E10\\u1E12\\u1E0E\\u0110\\u018B\\u018A\\u0189\\uA779\\xD0\"\n}, {\n  base: 'DZ',\n  letters: \"\\u01F1\\u01C4\"\n}, {\n  base: 'Dz',\n  letters: \"\\u01F2\\u01C5\"\n}, {\n  base: 'E',\n  letters: \"E\\u24BA\\uFF25\\xC8\\xC9\\xCA\\u1EC0\\u1EBE\\u1EC4\\u1EC2\\u1EBC\\u0112\\u1E14\\u1E16\\u0114\\u0116\\xCB\\u1EBA\\u011A\\u0204\\u0206\\u1EB8\\u1EC6\\u0228\\u1E1C\\u0118\\u1E18\\u1E1A\\u0190\\u018E\"\n}, {\n  base: 'F',\n  letters: \"F\\u24BB\\uFF26\\u1E1E\\u0191\\uA77B\"\n}, {\n  base: 'G',\n  letters: \"G\\u24BC\\uFF27\\u01F4\\u011C\\u1E20\\u011E\\u0120\\u01E6\\u0122\\u01E4\\u0193\\uA7A0\\uA77D\\uA77E\"\n}, {\n  base: 'H',\n  letters: \"H\\u24BD\\uFF28\\u0124\\u1E22\\u1E26\\u021E\\u1E24\\u1E28\\u1E2A\\u0126\\u2C67\\u2C75\\uA78D\"\n}, {\n  base: 'I',\n  letters: \"I\\u24BE\\uFF29\\xCC\\xCD\\xCE\\u0128\\u012A\\u012C\\u0130\\xCF\\u1E2E\\u1EC8\\u01CF\\u0208\\u020A\\u1ECA\\u012E\\u1E2C\\u0197\"\n}, {\n  base: 'J',\n  letters: \"J\\u24BF\\uFF2A\\u0134\\u0248\"\n}, {\n  base: 'K',\n  letters: \"K\\u24C0\\uFF2B\\u1E30\\u01E8\\u1E32\\u0136\\u1E34\\u0198\\u2C69\\uA740\\uA742\\uA744\\uA7A2\"\n}, {\n  base: 'L',\n  letters: \"L\\u24C1\\uFF2C\\u013F\\u0139\\u013D\\u1E36\\u1E38\\u013B\\u1E3C\\u1E3A\\u0141\\u023D\\u2C62\\u2C60\\uA748\\uA746\\uA780\"\n}, {\n  base: 'LJ',\n  letters: \"\\u01C7\"\n}, {\n  base: 'Lj',\n  letters: \"\\u01C8\"\n}, {\n  base: 'M',\n  letters: \"M\\u24C2\\uFF2D\\u1E3E\\u1E40\\u1E42\\u2C6E\\u019C\"\n}, {\n  base: 'N',\n  letters: \"N\\u24C3\\uFF2E\\u01F8\\u0143\\xD1\\u1E44\\u0147\\u1E46\\u0145\\u1E4A\\u1E48\\u0220\\u019D\\uA790\\uA7A4\"\n}, {\n  base: 'NJ',\n  letters: \"\\u01CA\"\n}, {\n  base: 'Nj',\n  letters: \"\\u01CB\"\n}, {\n  base: 'O',\n  letters: \"O\\u24C4\\uFF2F\\xD2\\xD3\\xD4\\u1ED2\\u1ED0\\u1ED6\\u1ED4\\xD5\\u1E4C\\u022C\\u1E4E\\u014C\\u1E50\\u1E52\\u014E\\u022E\\u0230\\xD6\\u022A\\u1ECE\\u0150\\u01D1\\u020C\\u020E\\u01A0\\u1EDC\\u1EDA\\u1EE0\\u1EDE\\u1EE2\\u1ECC\\u1ED8\\u01EA\\u01EC\\xD8\\u01FE\\u0186\\u019F\\uA74A\\uA74C\"\n}, {\n  base: 'OI',\n  letters: \"\\u01A2\"\n}, {\n  base: 'OO',\n  letters: \"\\uA74E\"\n}, {\n  base: 'OU',\n  letters: \"\\u0222\"\n}, {\n  base: 'OE',\n  letters: \"\\x8C\\u0152\"\n}, {\n  base: 'oe',\n  letters: \"\\x9C\\u0153\"\n}, {\n  base: 'P',\n  letters: \"P\\u24C5\\uFF30\\u1E54\\u1E56\\u01A4\\u2C63\\uA750\\uA752\\uA754\"\n}, {\n  base: 'Q',\n  letters: \"Q\\u24C6\\uFF31\\uA756\\uA758\\u024A\"\n}, {\n  base: 'R',\n  letters: \"R\\u24C7\\uFF32\\u0154\\u1E58\\u0158\\u0210\\u0212\\u1E5A\\u1E5C\\u0156\\u1E5E\\u024C\\u2C64\\uA75A\\uA7A6\\uA782\"\n}, {\n  base: 'S',\n  letters: \"S\\u24C8\\uFF33\\u1E9E\\u015A\\u1E64\\u015C\\u1E60\\u0160\\u1E66\\u1E62\\u1E68\\u0218\\u015E\\u2C7E\\uA7A8\\uA784\"\n}, {\n  base: 'T',\n  letters: \"T\\u24C9\\uFF34\\u1E6A\\u0164\\u1E6C\\u021A\\u0162\\u1E70\\u1E6E\\u0166\\u01AC\\u01AE\\u023E\\uA786\"\n}, {\n  base: 'TZ',\n  letters: \"\\uA728\"\n}, {\n  base: 'U',\n  letters: \"U\\u24CA\\uFF35\\xD9\\xDA\\xDB\\u0168\\u1E78\\u016A\\u1E7A\\u016C\\xDC\\u01DB\\u01D7\\u01D5\\u01D9\\u1EE6\\u016E\\u0170\\u01D3\\u0214\\u0216\\u01AF\\u1EEA\\u1EE8\\u1EEE\\u1EEC\\u1EF0\\u1EE4\\u1E72\\u0172\\u1E76\\u1E74\\u0244\"\n}, {\n  base: 'V',\n  letters: \"V\\u24CB\\uFF36\\u1E7C\\u1E7E\\u01B2\\uA75E\\u0245\"\n}, {\n  base: 'VY',\n  letters: \"\\uA760\"\n}, {\n  base: 'W',\n  letters: \"W\\u24CC\\uFF37\\u1E80\\u1E82\\u0174\\u1E86\\u1E84\\u1E88\\u2C72\"\n}, {\n  base: 'X',\n  letters: \"X\\u24CD\\uFF38\\u1E8A\\u1E8C\"\n}, {\n  base: 'Y',\n  letters: \"Y\\u24CE\\uFF39\\u1EF2\\xDD\\u0176\\u1EF8\\u0232\\u1E8E\\u0178\\u1EF6\\u1EF4\\u01B3\\u024E\\u1EFE\"\n}, {\n  base: 'Z',\n  letters: \"Z\\u24CF\\uFF3A\\u0179\\u1E90\\u017B\\u017D\\u1E92\\u1E94\\u01B5\\u0224\\u2C7F\\u2C6B\\uA762\"\n}, {\n  base: 'a',\n  letters: \"a\\u24D0\\uFF41\\u1E9A\\xE0\\xE1\\xE2\\u1EA7\\u1EA5\\u1EAB\\u1EA9\\xE3\\u0101\\u0103\\u1EB1\\u1EAF\\u1EB5\\u1EB3\\u0227\\u01E1\\xE4\\u01DF\\u1EA3\\xE5\\u01FB\\u01CE\\u0201\\u0203\\u1EA1\\u1EAD\\u1EB7\\u1E01\\u0105\\u2C65\\u0250\"\n}, {\n  base: 'aa',\n  letters: \"\\uA733\"\n}, {\n  base: 'ae',\n  letters: \"\\xE6\\u01FD\\u01E3\"\n}, {\n  base: 'ao',\n  letters: \"\\uA735\"\n}, {\n  base: 'au',\n  letters: \"\\uA737\"\n}, {\n  base: 'av',\n  letters: \"\\uA739\\uA73B\"\n}, {\n  base: 'ay',\n  letters: \"\\uA73D\"\n}, {\n  base: 'b',\n  letters: \"b\\u24D1\\uFF42\\u1E03\\u1E05\\u1E07\\u0180\\u0183\\u0253\"\n}, {\n  base: 'c',\n  letters: \"c\\u24D2\\uFF43\\u0107\\u0109\\u010B\\u010D\\xE7\\u1E09\\u0188\\u023C\\uA73F\\u2184\"\n}, {\n  base: 'd',\n  letters: \"d\\u24D3\\uFF44\\u1E0B\\u010F\\u1E0D\\u1E11\\u1E13\\u1E0F\\u0111\\u018C\\u0256\\u0257\\uA77A\"\n}, {\n  base: 'dz',\n  letters: \"\\u01F3\\u01C6\"\n}, {\n  base: 'e',\n  letters: \"e\\u24D4\\uFF45\\xE8\\xE9\\xEA\\u1EC1\\u1EBF\\u1EC5\\u1EC3\\u1EBD\\u0113\\u1E15\\u1E17\\u0115\\u0117\\xEB\\u1EBB\\u011B\\u0205\\u0207\\u1EB9\\u1EC7\\u0229\\u1E1D\\u0119\\u1E19\\u1E1B\\u0247\\u025B\\u01DD\"\n}, {\n  base: 'f',\n  letters: \"f\\u24D5\\uFF46\\u1E1F\\u0192\\uA77C\"\n}, {\n  base: 'g',\n  letters: \"g\\u24D6\\uFF47\\u01F5\\u011D\\u1E21\\u011F\\u0121\\u01E7\\u0123\\u01E5\\u0260\\uA7A1\\u1D79\\uA77F\"\n}, {\n  base: 'h',\n  letters: \"h\\u24D7\\uFF48\\u0125\\u1E23\\u1E27\\u021F\\u1E25\\u1E29\\u1E2B\\u1E96\\u0127\\u2C68\\u2C76\\u0265\"\n}, {\n  base: 'hv',\n  letters: \"\\u0195\"\n}, {\n  base: 'i',\n  letters: \"i\\u24D8\\uFF49\\xEC\\xED\\xEE\\u0129\\u012B\\u012D\\xEF\\u1E2F\\u1EC9\\u01D0\\u0209\\u020B\\u1ECB\\u012F\\u1E2D\\u0268\\u0131\"\n}, {\n  base: 'j',\n  letters: \"j\\u24D9\\uFF4A\\u0135\\u01F0\\u0249\"\n}, {\n  base: 'k',\n  letters: \"k\\u24DA\\uFF4B\\u1E31\\u01E9\\u1E33\\u0137\\u1E35\\u0199\\u2C6A\\uA741\\uA743\\uA745\\uA7A3\"\n}, {\n  base: 'l',\n  letters: \"l\\u24DB\\uFF4C\\u0140\\u013A\\u013E\\u1E37\\u1E39\\u013C\\u1E3D\\u1E3B\\u017F\\u0142\\u019A\\u026B\\u2C61\\uA749\\uA781\\uA747\"\n}, {\n  base: 'lj',\n  letters: \"\\u01C9\"\n}, {\n  base: 'm',\n  letters: \"m\\u24DC\\uFF4D\\u1E3F\\u1E41\\u1E43\\u0271\\u026F\"\n}, {\n  base: 'n',\n  letters: \"n\\u24DD\\uFF4E\\u01F9\\u0144\\xF1\\u1E45\\u0148\\u1E47\\u0146\\u1E4B\\u1E49\\u019E\\u0272\\u0149\\uA791\\uA7A5\"\n}, {\n  base: 'nj',\n  letters: \"\\u01CC\"\n}, {\n  base: 'o',\n  letters: \"o\\u24DE\\uFF4F\\xF2\\xF3\\xF4\\u1ED3\\u1ED1\\u1ED7\\u1ED5\\xF5\\u1E4D\\u022D\\u1E4F\\u014D\\u1E51\\u1E53\\u014F\\u022F\\u0231\\xF6\\u022B\\u1ECF\\u0151\\u01D2\\u020D\\u020F\\u01A1\\u1EDD\\u1EDB\\u1EE1\\u1EDF\\u1EE3\\u1ECD\\u1ED9\\u01EB\\u01ED\\xF8\\u01FF\\u0254\\uA74B\\uA74D\\u0275\"\n}, {\n  base: 'oi',\n  letters: \"\\u01A3\"\n}, {\n  base: 'ou',\n  letters: \"\\u0223\"\n}, {\n  base: 'oo',\n  letters: \"\\uA74F\"\n}, {\n  base: 'p',\n  letters: \"p\\u24DF\\uFF50\\u1E55\\u1E57\\u01A5\\u1D7D\\uA751\\uA753\\uA755\"\n}, {\n  base: 'q',\n  letters: \"q\\u24E0\\uFF51\\u024B\\uA757\\uA759\"\n}, {\n  base: 'r',\n  letters: \"r\\u24E1\\uFF52\\u0155\\u1E59\\u0159\\u0211\\u0213\\u1E5B\\u1E5D\\u0157\\u1E5F\\u024D\\u027D\\uA75B\\uA7A7\\uA783\"\n}, {\n  base: 's',\n  letters: \"s\\u24E2\\uFF53\\xDF\\u015B\\u1E65\\u015D\\u1E61\\u0161\\u1E67\\u1E63\\u1E69\\u0219\\u015F\\u023F\\uA7A9\\uA785\\u1E9B\"\n}, {\n  base: 't',\n  letters: \"t\\u24E3\\uFF54\\u1E6B\\u1E97\\u0165\\u1E6D\\u021B\\u0163\\u1E71\\u1E6F\\u0167\\u01AD\\u0288\\u2C66\\uA787\"\n}, {\n  base: 'tz',\n  letters: \"\\uA729\"\n}, {\n  base: 'u',\n  letters: \"u\\u24E4\\uFF55\\xF9\\xFA\\xFB\\u0169\\u1E79\\u016B\\u1E7B\\u016D\\xFC\\u01DC\\u01D8\\u01D6\\u01DA\\u1EE7\\u016F\\u0171\\u01D4\\u0215\\u0217\\u01B0\\u1EEB\\u1EE9\\u1EEF\\u1EED\\u1EF1\\u1EE5\\u1E73\\u0173\\u1E77\\u1E75\\u0289\"\n}, {\n  base: 'v',\n  letters: \"v\\u24E5\\uFF56\\u1E7D\\u1E7F\\u028B\\uA75F\\u028C\"\n}, {\n  base: 'vy',\n  letters: \"\\uA761\"\n}, {\n  base: 'w',\n  letters: \"w\\u24E6\\uFF57\\u1E81\\u1E83\\u0175\\u1E87\\u1E85\\u1E98\\u1E89\\u2C73\"\n}, {\n  base: 'x',\n  letters: \"x\\u24E7\\uFF58\\u1E8B\\u1E8D\"\n}, {\n  base: 'y',\n  letters: \"y\\u24E8\\uFF59\\u1EF3\\xFD\\u0177\\u1EF9\\u0233\\u1E8F\\xFF\\u1EF7\\u1E99\\u1EF5\\u01B4\\u024F\\u1EFF\"\n}, {\n  base: 'z',\n  letters: \"z\\u24E9\\uFF5A\\u017A\\u1E91\\u017C\\u017E\\u1E93\\u1E95\\u01B6\\u0225\\u0240\\u2C6C\\uA763\"\n}];\n/* eslint-enable max-len */\n\nvar diacriticsMap = {};\n\nfor (var ii = 0; ii < map.length; ii++) {\n  var letters = map[ii].letters;\n\n  for (var jj = 0; jj < letters.length; jj++) {\n    diacriticsMap[letters[jj]] = map[ii].base;\n  }\n} // \"what?\" version ... http://jsperf.com/diacritics/12\n\n\nexport default function stripDiacritics(str) {\n  return str.replace(/[\\u0300-\\u036F]/g, '') // Remove combining diacritics\n\n  /* eslint-disable-next-line no-control-regex */\n  .replace(/[^\\u0000-\\u007E]/g, function (a) {\n    return diacriticsMap[a] || a;\n  });\n}","import warning from 'warning';\nvar warned = {};\n/**\r\n * Copied from: https://github.com/ReactTraining/react-router/blob/master/modules/routerWarning.js\r\n */\n\nexport default function warn(falseToWarn, message) {\n  // Only issue deprecation warnings once.\n  if (!falseToWarn && message.indexOf('deprecated') !== -1) {\n    if (warned[message]) {\n      return;\n    }\n\n    warned[message] = true;\n  }\n\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  warning.apply(void 0, [falseToWarn, \"[react-bootstrap-typeahead] \" + message].concat(args));\n}\nexport function resetWarned() {\n  warned = {};\n}","import isEqual from 'fast-deep-equal';\nimport getOptionProperty from './getOptionProperty';\nimport { isFunction, isString } from './nodash';\nimport stripDiacritics from './stripDiacritics';\nimport warn from './warn';\n\nfunction isMatch(input, string, props) {\n  var searchStr = input;\n  var str = string;\n\n  if (!props.caseSensitive) {\n    searchStr = searchStr.toLowerCase();\n    str = str.toLowerCase();\n  }\n\n  if (props.ignoreDiacritics) {\n    searchStr = stripDiacritics(searchStr);\n    str = stripDiacritics(str);\n  }\n\n  return str.indexOf(searchStr) !== -1;\n}\n/**\r\n * Default algorithm for filtering results.\r\n */\n\n\nexport default function defaultFilterBy(option, props) {\n  var filterBy = props.filterBy,\n      labelKey = props.labelKey,\n      multiple = props.multiple,\n      selected = props.selected,\n      text = props.text; // Don't show selected options in the menu for the multi-select case.\n\n  if (multiple && selected.some(function (o) {\n    return isEqual(o, option);\n  })) {\n    return false;\n  }\n\n  if (isFunction(labelKey) && isMatch(text, labelKey(option), props)) {\n    return true;\n  }\n\n  var fields = filterBy.slice();\n\n  if (isString(labelKey)) {\n    // Add the `labelKey` field to the list of fields if it isn't already there.\n    if (fields.indexOf(labelKey) === -1) {\n      fields.unshift(labelKey);\n    }\n  }\n\n  if (isString(option)) {\n    warn(fields.length <= 1, 'You cannot filter by properties when `option` is a string.');\n    return isMatch(text, option, props);\n  }\n\n  return fields.some(function (field) {\n    var value = getOptionProperty(option, field);\n\n    if (!isString(value)) {\n      warn(false, 'Fields passed to `filterBy` should have string values. Value will ' + 'be converted to a string; results may be unexpected.');\n      value = String(value);\n    }\n\n    return isMatch(text, value, props);\n  });\n}","export default function getDisplayName(Component) {\n  return Component.displayName || Component.name || 'Component';\n}","import invariant from 'invariant';\nimport stripDiacritics from './stripDiacritics';\nvar CASE_INSENSITIVE = 'i';\nvar COMBINING_MARKS = /[\\u0300-\\u036F]/;\n// Export for testing.\nexport function escapeStringRegexp(str) {\n  !(typeof str === 'string') ? process.env.NODE_ENV !== \"production\" ? invariant(false, '`escapeStringRegexp` expected a string.') : invariant(false) : void 0; // Escape characters with special meaning either inside or outside character\n  // sets. Use a simple backslash escape when its always valid, and a \\unnnn\n  // escape when the simpler form would be disallowed by Unicode patterns\n  // stricter grammar.\n\n  return str.replace(/[|\\\\{}()[\\]^$+*?.]/g, '\\\\$&').replace(/-/g, '\\\\x2d');\n}\nexport default function getMatchBounds(subject, str) {\n  var search = new RegExp(escapeStringRegexp(stripDiacritics(str)), CASE_INSENSITIVE);\n  var matches = search.exec(stripDiacritics(subject));\n\n  if (!matches) {\n    return null;\n  }\n\n  var start = matches.index;\n  var matchLength = matches[0].length; // Account for combining marks, which changes the indices.\n\n  if (COMBINING_MARKS.test(subject)) {\n    // Starting at the beginning of the subject string, check for the number of\n    // combining marks and increment the start index whenever one is found.\n    for (var ii = 0; ii <= start; ii++) {\n      if (COMBINING_MARKS.test(subject[ii])) {\n        start += 1;\n      }\n    } // Similarly, increment the length of the match string if it contains a\n    // combining mark.\n\n\n    for (var _ii = start; _ii <= start + matchLength; _ii++) {\n      if (COMBINING_MARKS.test(subject[_ii])) {\n        matchLength += 1;\n      }\n    }\n  }\n\n  return {\n    end: start + matchLength,\n    start: start\n  };\n}","import getMatchBounds from './getMatchBounds';\nimport getOptionLabel from './getOptionLabel';\n\nfunction getHintText(props) {\n  var activeIndex = props.activeIndex,\n      initialItem = props.initialItem,\n      isFocused = props.isFocused,\n      isMenuShown = props.isMenuShown,\n      labelKey = props.labelKey,\n      multiple = props.multiple,\n      selected = props.selected,\n      text = props.text; // Don't display a hint under the following conditions:\n\n  if ( // No text entered.\n  !text || // The input is not focused.\n  !isFocused || // The menu is hidden.\n  !isMenuShown || // No item in the menu.\n  !initialItem || // The initial item is a custom option.\n  initialItem.customOption || // One of the menu items is active.\n  activeIndex > -1 || // There's already a selection in single-select mode.\n  !!selected.length && !multiple) {\n    return '';\n  }\n\n  var initialItemStr = getOptionLabel(initialItem, labelKey);\n  var bounds = getMatchBounds(initialItemStr.toLowerCase(), text.toLowerCase());\n\n  if (!(bounds && bounds.start === 0)) {\n    return '';\n  } // Text matching is case- and accent-insensitive, so to display the hint\n  // correctly, splice the input string with the hint string.\n\n\n  return text + initialItemStr.slice(bounds.end, initialItemStr.length);\n}\n\nexport default getHintText;","export default function getMenuItemId(id, position) {\n  return (id || '') + \"-item-\" + position;\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport cx from 'classnames';\nimport getMenuItemId from './getMenuItemId';\n\nvar getInputProps = function getInputProps(_ref) {\n  var activeIndex = _ref.activeIndex,\n      id = _ref.id,\n      isFocused = _ref.isFocused,\n      isMenuShown = _ref.isMenuShown,\n      multiple = _ref.multiple,\n      onFocus = _ref.onFocus,\n      placeholder = _ref.placeholder,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"activeIndex\", \"id\", \"isFocused\", \"isMenuShown\", \"multiple\", \"onFocus\", \"placeholder\"]);\n\n  return function (_temp) {\n    var _cx;\n\n    var _ref2 = _temp === void 0 ? {} : _temp,\n        className = _ref2.className,\n        inputProps = _objectWithoutPropertiesLoose(_ref2, [\"className\"]);\n\n    var props = _extends({\n      /* eslint-disable sort-keys */\n      // These props can be overridden by values in `inputProps`.\n      autoComplete: 'off',\n      placeholder: placeholder,\n      type: 'text'\n    }, inputProps, rest, {\n      'aria-activedescendant': activeIndex >= 0 ? getMenuItemId(id, activeIndex) : undefined,\n      'aria-autocomplete': 'both',\n      'aria-expanded': isMenuShown,\n      'aria-haspopup': 'listbox',\n      'aria-owns': isMenuShown ? id : undefined,\n      className: cx((_cx = {}, _cx[className || ''] = !multiple, _cx.focus = isFocused, _cx)),\n      // Re-open the menu, eg: if it's closed via ESC.\n      onClick: onFocus,\n      onFocus: onFocus,\n      // Comboboxes are single-select by definition:\n      // https://www.w3.org/TR/wai-aria-practices-1.1/#combobox\n      role: 'combobox'\n      /* eslint-enable sort-keys */\n\n    });\n\n    if (!multiple) {\n      return props;\n    }\n\n    return _extends({}, props, {\n      'aria-autocomplete': 'list',\n      'aria-expanded': undefined,\n      inputClassName: className,\n      role: undefined\n    });\n  };\n};\n\nexport default getInputProps;","import getOptionLabel from './getOptionLabel';\nimport { head } from './nodash';\n\nfunction getInputText(props) {\n  var activeItem = props.activeItem,\n      labelKey = props.labelKey,\n      multiple = props.multiple,\n      selected = props.selected,\n      text = props.text;\n\n  if (activeItem) {\n    // Display the input value if the pagination item is active.\n    return getOptionLabel(activeItem, labelKey);\n  }\n\n  var selectedItem = !multiple && !!selected.length && head(selected);\n\n  if (selectedItem) {\n    return getOptionLabel(selectedItem, labelKey);\n  }\n\n  return text;\n}\n\nexport default getInputText;","import getOptionProperty from './getOptionProperty';\nimport { head } from './nodash';\n\nfunction getIsOnlyResult(props) {\n  var allowNew = props.allowNew,\n      highlightOnlyResult = props.highlightOnlyResult,\n      results = props.results;\n\n  if (!highlightOnlyResult || allowNew) {\n    return false;\n  }\n\n  return results.length === 1 && !getOptionProperty(head(results), 'disabled');\n}\n\nexport default getIsOnlyResult;","/**\r\n * Truncates the result set based on `maxResults` and returns the new set.\r\n */\nfunction getTruncatedOptions(options, maxResults) {\n  if (!maxResults || maxResults >= options.length) {\n    return options;\n  }\n\n  return options.slice(0, maxResults);\n}\n\nexport default getTruncatedOptions;","import { DOWN, UP } from '../constants';\n\nfunction skipDisabledOptions(currentIndex, keyCode, items) {\n  var newIndex = currentIndex;\n\n  while (items[newIndex] && items[newIndex].disabled) {\n    newIndex += keyCode === UP ? -1 : 1;\n  }\n\n  return newIndex;\n}\n\nexport default function getUpdatedActiveIndex(currentIndex, keyCode, items) {\n  var newIndex = currentIndex; // Increment or decrement index based on user keystroke.\n\n  newIndex += keyCode === UP ? -1 : 1; // Skip over any disabled options.\n\n  newIndex = skipDisabledOptions(newIndex, keyCode, items); // If we've reached the end, go back to the beginning or vice-versa.\n\n  if (newIndex === items.length) {\n    newIndex = -1;\n  } else if (newIndex === -2) {\n    newIndex = items.length - 1; // Skip over any disabled options.\n\n    newIndex = skipDisabledOptions(newIndex, keyCode, items);\n  }\n\n  return newIndex;\n}","/**\r\n * Check if an input type is selectable, based on WHATWG spec.\r\n *\r\n * See:\r\n *  - https://stackoverflow.com/questions/21177489/selectionstart-selectionend-on-input-type-number-no-longer-allowed-in-chrome/24175357\r\n *  - https://html.spec.whatwg.org/multipage/input.html#do-not-apply\r\n */\nexport default function isSelectable(inputNode) {\n  return inputNode.selectionStart != null;\n}","/**\r\n * Prevent the main input from blurring when a menu item or the clear button is\r\n * clicked. (#226 & #310)\r\n */\nexport default function preventInputBlur(e) {\n  e.preventDefault();\n}","export function isSizeLarge(size) {\n  return size === 'large' || size === 'lg';\n}\nexport function isSizeSmall(size) {\n  return size === 'small' || size === 'sm';\n}","import { createContext, useContext } from 'react';\nimport { noop } from '../utils';\nexport var TypeaheadContext = /*#__PURE__*/createContext({\n  activeIndex: -1,\n  hintText: '',\n  id: '',\n  initialItem: null,\n  inputNode: null,\n  isOnlyResult: false,\n  onActiveItemChange: noop,\n  onAdd: noop,\n  onInitialItemChange: noop,\n  onMenuItemClick: noop,\n  selectHintOnEnter: undefined,\n  setItem: noop\n});\nexport var useTypeaheadContext = function useTypeaheadContext() {\n  return useContext(TypeaheadContext);\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React, { useEffect } from 'react';\nimport usePrevious from '@restart/hooks/usePrevious';\nimport { TypeaheadContext } from './Context';\nimport { getHintText, getInputProps, getInputText, getIsOnlyResult, pick } from '../utils';\nimport { RETURN } from '../constants';\nvar inputPropKeys = ['activeIndex', 'disabled', 'id', 'inputRef', 'isFocused', 'isMenuShown', 'multiple', 'onBlur', 'onChange', 'onFocus', 'onKeyDown', 'placeholder'];\nvar propKeys = ['activeIndex', 'hideMenu', 'isMenuShown', 'labelKey', 'onClear', 'onHide', 'onRemove', 'results', 'selected', 'text', 'toggleMenu'];\nvar contextKeys = ['activeIndex', 'id', 'initialItem', 'inputNode', 'onActiveItemChange', 'onAdd', 'onInitialItemChange', 'onMenuItemClick', 'selectHintOnEnter', 'setItem'];\n\nvar TypeaheadManager = function TypeaheadManager(props) {\n  var allowNew = props.allowNew,\n      children = props.children,\n      initialItem = props.initialItem,\n      isMenuShown = props.isMenuShown,\n      onAdd = props.onAdd,\n      onInitialItemChange = props.onInitialItemChange,\n      onKeyDown = props.onKeyDown,\n      onMenuToggle = props.onMenuToggle,\n      results = props.results;\n  var prevProps = usePrevious(props);\n  useEffect(function () {\n    // Clear the initial item when there are no results.\n    if (!(allowNew || results.length)) {\n      onInitialItemChange(null);\n    }\n  });\n  useEffect(function () {\n    if (prevProps && prevProps.isMenuShown !== isMenuShown) {\n      onMenuToggle(isMenuShown);\n    }\n  });\n\n  var handleKeyDown = function handleKeyDown(e) {\n    switch (e.keyCode) {\n      case RETURN:\n        if (initialItem && getIsOnlyResult(props)) {\n          onAdd(initialItem);\n        }\n\n        break;\n\n      default:\n        break;\n    }\n\n    onKeyDown(e);\n  };\n\n  var childProps = _extends({}, pick(props, propKeys), {\n    getInputProps: getInputProps(_extends({}, pick(props, inputPropKeys), {\n      onKeyDown: handleKeyDown,\n      value: getInputText(props)\n    }))\n  });\n\n  var contextValue = _extends({}, pick(props, contextKeys), {\n    hintText: getHintText(props),\n    isOnlyResult: getIsOnlyResult(props)\n  });\n\n  return /*#__PURE__*/React.createElement(TypeaheadContext.Provider, {\n    value: contextValue\n  }, children(childProps));\n};\n\nexport default TypeaheadManager;","import PropTypes from 'prop-types';\nimport { isFunction, values, warn } from './utils';\nimport { SIZE } from './constants';\nvar INPUT_PROPS_BLACKLIST = [{\n  alt: 'onBlur',\n  prop: 'onBlur'\n}, {\n  alt: 'onInputChange',\n  prop: 'onChange'\n}, {\n  alt: 'onFocus',\n  prop: 'onFocus'\n}, {\n  alt: 'onKeyDown',\n  prop: 'onKeyDown'\n}];\nexport var sizeType = PropTypes.oneOf(values(SIZE));\n/**\r\n * Allows additional warnings or messaging related to prop validation.\r\n */\n\nexport function checkPropType(validator, callback) {\n  return function (props, propName, componentName) {\n    var _PropTypes$checkPropT;\n\n    PropTypes.checkPropTypes((_PropTypes$checkPropT = {}, _PropTypes$checkPropT[propName] = validator, _PropTypes$checkPropT), props, 'prop', componentName);\n    isFunction(callback) && callback(props, propName, componentName);\n  };\n}\nexport function caseSensitiveType(props, propName, componentName) {\n  var caseSensitive = props.caseSensitive,\n      filterBy = props.filterBy;\n  warn(!caseSensitive || typeof filterBy !== 'function', 'Your `filterBy` function will override the `caseSensitive` prop.');\n}\nexport function deprecated(validator, reason) {\n  return function (props, propName, componentName) {\n    var _PropTypes$checkPropT2;\n\n    if (props[propName] != null) {\n      warn(false, \"The `\" + propName + \"` prop is deprecated. \" + reason);\n    }\n\n    return PropTypes.checkPropTypes((_PropTypes$checkPropT2 = {}, _PropTypes$checkPropT2[propName] = validator, _PropTypes$checkPropT2), props, 'prop', componentName);\n  };\n}\nexport function defaultInputValueType(props, propName, componentName) {\n  var defaultInputValue = props.defaultInputValue,\n      defaultSelected = props.defaultSelected,\n      multiple = props.multiple,\n      selected = props.selected;\n  var name = defaultSelected.length ? 'defaultSelected' : 'selected';\n  warn(!(!multiple && defaultInputValue && (defaultSelected.length || selected && selected.length)), \"`defaultInputValue` will be overridden by the value from `\" + name + \"`.\");\n}\nexport function defaultSelectedType(props, propName, componentName) {\n  var defaultSelected = props.defaultSelected,\n      multiple = props.multiple;\n  warn(multiple || defaultSelected.length <= 1, 'You are passing multiple options to the `defaultSelected` prop of a ' + 'Typeahead in single-select mode. The selections will be truncated to a ' + 'single selection.');\n}\nexport function highlightOnlyResultType(props, propName, componentName) {\n  var allowNew = props.allowNew,\n      highlightOnlyResult = props.highlightOnlyResult;\n  warn(!(highlightOnlyResult && allowNew), '`highlightOnlyResult` will not work with `allowNew`.');\n}\nexport function ignoreDiacriticsType(props, propName, componentName) {\n  var filterBy = props.filterBy,\n      ignoreDiacritics = props.ignoreDiacritics;\n  warn(ignoreDiacritics || typeof filterBy !== 'function', 'Your `filterBy` function will override the `ignoreDiacritics` prop.');\n}\nexport function inputPropsType(props, propName, componentName) {\n  var inputProps = props.inputProps;\n\n  if (!(inputProps && Object.prototype.toString.call(inputProps) === '[object Object]')) {\n    return;\n  } // Blacklisted properties.\n\n\n  INPUT_PROPS_BLACKLIST.forEach(function (_ref) {\n    var alt = _ref.alt,\n        prop = _ref.prop;\n    var msg = alt ? \" Use the top-level `\" + alt + \"` prop instead.\" : null;\n    warn(!inputProps[prop], \"The `\" + prop + \"` property of `inputProps` will be ignored.\" + msg);\n  });\n}\nexport function isRequiredForA11y(props, propName, componentName) {\n  warn(props[propName] != null, \"The prop `\" + propName + \"` is required to make `\" + componentName + \"` \" + 'accessible for users of assistive technologies such as screen readers.');\n}\nexport function labelKeyType(props, propName, componentName) {\n  var allowNew = props.allowNew,\n      labelKey = props.labelKey;\n  warn(!(isFunction(labelKey) && allowNew), '`labelKey` must be a string when `allowNew={true}`.');\n}\nexport var optionType = PropTypes.oneOfType([PropTypes.object, PropTypes.string]);\nexport function selectedType(props, propName, componentName) {\n  var multiple = props.multiple,\n      onChange = props.onChange,\n      selected = props.selected;\n  warn(multiple || !selected || selected.length <= 1, 'You are passing multiple options to the `selected` prop of a Typeahead ' + 'in single-select mode. This may lead to unexpected behaviors or errors.');\n  warn(!selected || selected && isFunction(onChange), 'You provided a `selected` prop without an `onChange` handler. If you ' + 'want the typeahead to be uncontrolled, use `defaultSelected`. ' + 'Otherwise, set `onChange`.');\n}","function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport isEqual from 'fast-deep-equal';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport TypeaheadManager from './TypeaheadManager';\nimport { caseSensitiveType, checkPropType, defaultInputValueType, defaultSelectedType, deprecated, highlightOnlyResultType, ignoreDiacriticsType, isRequiredForA11y, labelKeyType, optionType, selectedType } from '../propTypes';\nimport { addCustomOption, defaultFilterBy, getOptionLabel, getStringLabelKey, getUpdatedActiveIndex, getTruncatedOptions, head, isShown, isString, noop, uniqueId, validateSelectedPropChange } from '../utils';\nimport { DEFAULT_LABELKEY, DOWN, ESC, RETURN, TAB, UP } from '../constants';\nvar propTypes = {\n  /**\n   * Allows the creation of new selections on the fly. Note that any new items\n   * will be added to the list of selections, but not the list of original\n   * options unless handled as such by `Typeahead`'s parent.\n   *\n   * If a function is specified, it will be used to determine whether a custom\n   * option should be included. The return value should be true or false.\n   */\n  allowNew: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\n\n  /**\n   * Autofocus the input when the component initially mounts.\n   */\n  autoFocus: PropTypes.bool,\n\n  /**\n   * Whether or not filtering should be case-sensitive.\n   */\n  caseSensitive: checkPropType(PropTypes.bool, caseSensitiveType),\n\n  /**\n   * The initial value displayed in the text input.\n   */\n  defaultInputValue: checkPropType(PropTypes.string, defaultInputValueType),\n\n  /**\n   * Whether or not the menu is displayed upon initial render.\n   */\n  defaultOpen: PropTypes.bool,\n\n  /**\n   * Specify any pre-selected options. Use only if you want the component to\n   * be uncontrolled.\n   */\n  defaultSelected: checkPropType(PropTypes.arrayOf(optionType), defaultSelectedType),\n\n  /**\n   * Either an array of fields in `option` to search, or a custom filtering\n   * callback.\n   */\n  filterBy: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.string.isRequired), PropTypes.func]),\n\n  /**\n   * Highlights the menu item if there is only one result and allows selecting\n   * that item by hitting enter. Does not work with `allowNew`.\n   */\n  highlightOnlyResult: checkPropType(PropTypes.bool, highlightOnlyResultType),\n\n  /**\n   * An html id attribute, required for assistive technologies such as screen\n   * readers.\n   */\n  id: checkPropType(PropTypes.oneOfType([PropTypes.number, PropTypes.string]), isRequiredForA11y),\n\n  /**\n   * Whether the filter should ignore accents and other diacritical marks.\n   */\n  ignoreDiacritics: checkPropType(PropTypes.bool, ignoreDiacriticsType),\n\n  /**\n   * Specify the option key to use for display or a function returning the\n   * display string. By default, the selector will use the `label` key.\n   */\n  labelKey: checkPropType(PropTypes.oneOfType([PropTypes.string, PropTypes.func]), labelKeyType),\n\n  /**\n   * Maximum number of results to display by default. Mostly done for\n   * performance reasons so as not to render too many DOM nodes in the case of\n   * large data sets.\n   */\n  maxResults: PropTypes.number,\n\n  /**\n   * Number of input characters that must be entered before showing results.\n   */\n  minLength: PropTypes.number,\n\n  /**\n   * Whether or not multiple selections are allowed.\n   */\n  multiple: PropTypes.bool,\n\n  /**\n   * Invoked when the input is blurred. Receives an event.\n   */\n  onBlur: PropTypes.func,\n\n  /**\n   * Invoked whenever items are added or removed. Receives an array of the\n   * selected options.\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * Invoked when the input is focused. Receives an event.\n   */\n  onFocus: PropTypes.func,\n\n  /**\n   * Invoked when the input value changes. Receives the string value of the\n   * input.\n   */\n  onInputChange: PropTypes.func,\n\n  /**\n   * Invoked when a key is pressed. Receives an event.\n   */\n  onKeyDown: PropTypes.func,\n\n  /**\n   * Invoked when menu visibility changes.\n   */\n  onMenuToggle: PropTypes.func,\n\n  /**\n   * Invoked when the pagination menu item is clicked. Receives an event.\n   */\n  onPaginate: PropTypes.func,\n\n  /**\n   * Whether or not the menu should be displayed. `undefined` allows the\n   * component to control visibility, while `true` and `false` show and hide\n   * the menu, respectively.\n   */\n  open: PropTypes.bool,\n\n  /**\n   * Full set of options, including pre-selected options. Must either be an\n   * array of objects (recommended) or strings.\n   */\n  options: PropTypes.arrayOf(optionType).isRequired,\n\n  /**\n   * Give user the ability to display additional results if the number of\n   * results exceeds `maxResults`.\n   */\n  paginate: PropTypes.bool,\n\n  /**\n   * The selected option(s) displayed in the input. Use this prop if you want\n   * to control the component via its parent.\n   */\n  selected: checkPropType(PropTypes.arrayOf(optionType), selectedType),\n\n  /**\n   * Allows selecting the hinted result by pressing enter.\n   */\n  selectHintOnEnter: deprecated(PropTypes.bool, 'Use the `shouldSelect` prop on the `Hint` component to define which ' + 'keystrokes can select the hint.')\n};\nvar defaultProps = {\n  allowNew: false,\n  autoFocus: false,\n  caseSensitive: false,\n  defaultInputValue: '',\n  defaultOpen: false,\n  defaultSelected: [],\n  filterBy: [],\n  highlightOnlyResult: false,\n  ignoreDiacritics: true,\n  labelKey: DEFAULT_LABELKEY,\n  maxResults: 100,\n  minLength: 0,\n  multiple: false,\n  onBlur: noop,\n  onFocus: noop,\n  onInputChange: noop,\n  onKeyDown: noop,\n  onMenuToggle: noop,\n  onPaginate: noop,\n  paginate: true\n};\nexport function getInitialState(props) {\n  var defaultInputValue = props.defaultInputValue,\n      defaultOpen = props.defaultOpen,\n      defaultSelected = props.defaultSelected,\n      maxResults = props.maxResults,\n      multiple = props.multiple;\n  var selected = props.selected ? props.selected.slice() : defaultSelected.slice();\n  var text = defaultInputValue;\n\n  if (!multiple && selected.length) {\n    // Set the text if an initial selection is passed in.\n    text = getOptionLabel(head(selected), props.labelKey);\n\n    if (selected.length > 1) {\n      // Limit to 1 selection in single-select mode.\n      selected = selected.slice(0, 1);\n    }\n  }\n\n  return {\n    activeIndex: -1,\n    activeItem: null,\n    initialItem: null,\n    isFocused: false,\n    selected: selected,\n    showMenu: defaultOpen,\n    shownResults: maxResults,\n    text: text\n  };\n}\nexport function clearTypeahead(state, props) {\n  return _extends({}, getInitialState(props), {\n    isFocused: state.isFocused,\n    selected: [],\n    text: ''\n  });\n}\nexport function hideMenu(state, props) {\n  var _getInitialState = getInitialState(props),\n      activeIndex = _getInitialState.activeIndex,\n      activeItem = _getInitialState.activeItem,\n      initialItem = _getInitialState.initialItem,\n      shownResults = _getInitialState.shownResults;\n\n  return {\n    activeIndex: activeIndex,\n    activeItem: activeItem,\n    initialItem: initialItem,\n    showMenu: false,\n    shownResults: shownResults\n  };\n}\nexport function toggleMenu(state, props) {\n  return state.showMenu ? hideMenu(state, props) : {\n    showMenu: true\n  };\n}\n\nvar Typeahead = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Typeahead, _React$Component);\n\n  function Typeahead() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", getInitialState(_this.props));\n\n    _defineProperty(_assertThisInitialized(_this), \"inputNode\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"isMenuShown\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"items\", []);\n\n    _defineProperty(_assertThisInitialized(_this), \"blur\", function () {\n      _this.inputNode && _this.inputNode.blur();\n\n      _this.hideMenu();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"clear\", function () {\n      _this.setState(clearTypeahead);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"focus\", function () {\n      _this.inputNode && _this.inputNode.focus();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getInput\", function () {\n      return _this.inputNode;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"inputRef\", function (inputNode) {\n      _this.inputNode = inputNode;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setItem\", function (item, position) {\n      _this.items[position] = item;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"hideMenu\", function () {\n      _this.setState(hideMenu);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toggleMenu\", function () {\n      _this.setState(toggleMenu);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_handleActiveIndexChange\", function (activeIndex) {\n      _this.setState(function (state) {\n        return {\n          activeIndex: activeIndex,\n          activeItem: activeIndex === -1 ? null : state.activeItem\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_handleActiveItemChange\", function (activeItem) {\n      // Don't update the active item if it hasn't changed.\n      if (!isEqual(activeItem, _this.state.activeItem)) {\n        _this.setState({\n          activeItem: activeItem\n        }, function () {\n          return _this.props.onActiveItemChange && _this.props.onActiveItemChange(activeItem);\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_handleBlur\", function (e) {\n      e.persist();\n\n      _this.setState({\n        isFocused: false\n      }, function () {\n        return _this.props.onBlur(e);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_handleChange\", function (selected) {\n      _this.props.onChange && _this.props.onChange(selected);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_handleClear\", function () {\n      _this.setState(clearTypeahead, function () {\n        return _this._handleChange([]);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_handleFocus\", function (e) {\n      e.persist();\n\n      _this.setState({\n        isFocused: true,\n        showMenu: true\n      }, function () {\n        return _this.props.onFocus(e);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_handleInitialItemChange\", function (initialItem) {\n      // Don't update the initial item if it hasn't changed.\n      if (!isEqual(initialItem, _this.state.initialItem)) {\n        _this.setState({\n          initialItem: initialItem\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_handleInputChange\", function (e) {\n      e.persist();\n      var text = e.currentTarget.value;\n      var _this$props = _this.props,\n          multiple = _this$props.multiple,\n          onInputChange = _this$props.onInputChange; // Clear selections when the input value changes in single-select mode.\n\n      var shouldClearSelections = _this.state.selected.length && !multiple;\n\n      _this.setState(function (state, props) {\n        var _getInitialState2 = getInitialState(props),\n            activeIndex = _getInitialState2.activeIndex,\n            activeItem = _getInitialState2.activeItem,\n            shownResults = _getInitialState2.shownResults;\n\n        return {\n          activeIndex: activeIndex,\n          activeItem: activeItem,\n          selected: shouldClearSelections ? [] : state.selected,\n          showMenu: true,\n          shownResults: shownResults,\n          text: text\n        };\n      }, function () {\n        onInputChange(text, e);\n        shouldClearSelections && _this._handleChange([]);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_handleKeyDown\", function (e) {\n      var activeItem = _this.state.activeItem; // Skip most actions when the menu is hidden.\n\n      if (!_this.isMenuShown) {\n        if (e.keyCode === UP || e.keyCode === DOWN) {\n          _this.setState({\n            showMenu: true\n          });\n        }\n\n        _this.props.onKeyDown(e);\n\n        return;\n      }\n\n      switch (e.keyCode) {\n        case UP:\n        case DOWN:\n          // Prevent input cursor from going to the beginning when pressing up.\n          e.preventDefault();\n\n          _this._handleActiveIndexChange(getUpdatedActiveIndex(_this.state.activeIndex, e.keyCode, _this.items));\n\n          break;\n\n        case RETURN:\n          // Prevent form submission while menu is open.\n          e.preventDefault();\n          activeItem && _this._handleMenuItemSelect(activeItem, e);\n          break;\n\n        case ESC:\n        case TAB:\n          // ESC simply hides the menu. TAB will blur the input and move focus to\n          // the next item; hide the menu so it doesn't gain focus.\n          _this.hideMenu();\n\n          break;\n\n        default:\n          break;\n      }\n\n      _this.props.onKeyDown(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_handleMenuItemSelect\", function (option, e) {\n      if (option.paginationOption) {\n        _this._handlePaginate(e);\n      } else {\n        _this._handleSelectionAdd(option);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_handlePaginate\", function (e) {\n      e.persist();\n\n      _this.setState(function (state, props) {\n        return {\n          shownResults: state.shownResults + props.maxResults\n        };\n      }, function () {\n        return _this.props.onPaginate(e, _this.state.shownResults);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_handleSelectionAdd\", function (option) {\n      var _this$props2 = _this.props,\n          multiple = _this$props2.multiple,\n          labelKey = _this$props2.labelKey;\n      var selected;\n      var selection = option;\n      var text; // Add a unique id to the custom selection. Avoid doing this in `render` so\n      // the id doesn't increment every time.\n\n      if (!isString(selection) && selection.customOption) {\n        selection = _extends({}, selection, {\n          id: uniqueId('new-id-')\n        });\n      }\n\n      if (multiple) {\n        // If multiple selections are allowed, add the new selection to the\n        // existing selections.\n        selected = _this.state.selected.concat(selection);\n        text = '';\n      } else {\n        // If only a single selection is allowed, replace the existing selection\n        // with the new one.\n        selected = [selection];\n        text = getOptionLabel(selection, labelKey);\n      }\n\n      _this.setState(function (state, props) {\n        return _extends({}, hideMenu(state, props), {\n          initialItem: selection,\n          selected: selected,\n          text: text\n        });\n      }, function () {\n        return _this._handleChange(selected);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_handleSelectionRemove\", function (selection) {\n      var selected = _this.state.selected.filter(function (option) {\n        return !isEqual(option, selection);\n      }); // Make sure the input stays focused after the item is removed.\n\n\n      _this.focus();\n\n      _this.setState(function (state, props) {\n        return _extends({}, hideMenu(state, props), {\n          selected: selected\n        });\n      }, function () {\n        return _this._handleChange(selected);\n      });\n    });\n\n    return _this;\n  }\n\n  var _proto = Typeahead.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.props.autoFocus && this.focus();\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    var _this$props3 = this.props,\n        labelKey = _this$props3.labelKey,\n        multiple = _this$props3.multiple,\n        selected = _this$props3.selected;\n    validateSelectedPropChange(selected, prevProps.selected); // Sync selections in state with those in props.\n\n    if (selected && !isEqual(selected, prevState.selected)) {\n      this.setState({\n        selected: selected\n      });\n\n      if (!multiple) {\n        this.setState({\n          text: selected.length ? getOptionLabel(head(selected), labelKey) : ''\n        });\n      }\n    }\n  };\n\n  _proto.render = function render() {\n    // Omit `onChange` so Flow doesn't complain.\n    var _this$props4 = this.props,\n        onChange = _this$props4.onChange,\n        otherProps = _objectWithoutPropertiesLoose(_this$props4, [\"onChange\"]);\n\n    var mergedPropsAndState = _extends({}, otherProps, this.state);\n\n    var filterBy = mergedPropsAndState.filterBy,\n        labelKey = mergedPropsAndState.labelKey,\n        options = mergedPropsAndState.options,\n        paginate = mergedPropsAndState.paginate,\n        shownResults = mergedPropsAndState.shownResults,\n        text = mergedPropsAndState.text;\n    this.isMenuShown = isShown(mergedPropsAndState);\n    this.items = []; // Reset items on re-render.\n\n    var results = [];\n\n    if (this.isMenuShown) {\n      var cb = typeof filterBy === 'function' ? filterBy : defaultFilterBy;\n      results = options.filter(function (option) {\n        return cb(option, mergedPropsAndState);\n      }); // This must come before results are truncated.\n\n      var shouldPaginate = paginate && results.length > shownResults; // Truncate results if necessary.\n\n      results = getTruncatedOptions(results, shownResults); // Add the custom option if necessary.\n\n      if (addCustomOption(results, mergedPropsAndState)) {\n        var _results$push;\n\n        results.push((_results$push = {\n          customOption: true\n        }, _results$push[getStringLabelKey(labelKey)] = text, _results$push));\n      } // Add the pagination item if necessary.\n\n\n      if (shouldPaginate) {\n        var _results$push2;\n\n        results.push((_results$push2 = {}, _results$push2[getStringLabelKey(labelKey)] = '', _results$push2.paginationOption = true, _results$push2));\n      }\n    }\n\n    return /*#__PURE__*/React.createElement(TypeaheadManager, _extends({}, mergedPropsAndState, {\n      hideMenu: this.hideMenu,\n      inputNode: this.inputNode,\n      inputRef: this.inputRef,\n      isMenuShown: this.isMenuShown,\n      onActiveItemChange: this._handleActiveItemChange,\n      onAdd: this._handleSelectionAdd,\n      onBlur: this._handleBlur,\n      onChange: this._handleInputChange,\n      onClear: this._handleClear,\n      onFocus: this._handleFocus,\n      onHide: this.hideMenu,\n      onInitialItemChange: this._handleInitialItemChange,\n      onKeyDown: this._handleKeyDown,\n      onMenuItemClick: this._handleMenuItemSelect,\n      onRemove: this._handleSelectionRemove,\n      results: results,\n      setItem: this.setItem,\n      toggleMenu: this.toggleMenu\n    }));\n  };\n\n  return Typeahead;\n}(React.Component);\n\n_defineProperty(Typeahead, \"propTypes\", propTypes);\n\n_defineProperty(Typeahead, \"defaultProps\", defaultProps);\n\nexport default Typeahead;","import warn from './warn';\nexport default function validateSelectedPropChange(prevSelected, selected) {\n  var uncontrolledToControlled = !prevSelected && selected;\n  var controlledToUncontrolled = prevSelected && !selected;\n  var from, to, precedent;\n\n  if (uncontrolledToControlled) {\n    from = 'uncontrolled';\n    to = 'controlled';\n    precedent = 'an';\n  } else {\n    from = 'controlled';\n    to = 'uncontrolled';\n    precedent = 'a';\n  }\n\n  var message = \"You are changing \" + precedent + \" \" + from + \" typeahead to be \" + to + \". \" + (\"Input elements should not switch from \" + from + \" to \" + to + \" (or vice versa). \") + 'Decide between using a controlled or uncontrolled element for the ' + 'lifetime of the component.';\n  warn(!(uncontrolledToControlled || controlledToUncontrolled), message);\n}","export default function isShown(props) {\n  var open = props.open,\n      minLength = props.minLength,\n      showMenu = props.showMenu,\n      text = props.text; // If menu visibility is controlled via props, that value takes precedence.\n\n  if (open || open === false) {\n    return open;\n  }\n\n  if (text.length < minLength) {\n    return false;\n  }\n\n  return showMenu;\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { useDebouncedCallback } from 'use-debounce';\nimport PropTypes from 'prop-types';\nimport React, { forwardRef, useCallback, useEffect, useRef } from 'react';\nimport useForceUpdate from '@restart/hooks/useForceUpdate';\nimport usePrevious from '@restart/hooks/usePrevious';\nimport Typeahead from '../core/Typeahead';\nimport { optionType } from '../propTypes';\nimport { getDisplayName, isFunction, warn } from '../utils';\nvar propTypes = {\n  /**\n   * Delay, in milliseconds, before performing search.\n   */\n  delay: PropTypes.number,\n\n  /**\n   * Whether or not a request is currently pending. Necessary for the\n   * container to know when new results are available.\n   */\n  isLoading: PropTypes.bool.isRequired,\n\n  /**\n   * Number of input characters that must be entered before showing results.\n   */\n  minLength: PropTypes.number,\n\n  /**\n   * Callback to perform when the search is executed.\n   */\n  onSearch: PropTypes.func.isRequired,\n\n  /**\n   * Options to be passed to the typeahead. Will typically be the query\n   * results, but can also be initial default options.\n   */\n  options: PropTypes.arrayOf(optionType),\n\n  /**\n   * Message displayed in the menu when there is no user input.\n   */\n  promptText: PropTypes.node,\n\n  /**\n   * Message displayed in the menu while the request is pending.\n   */\n  searchText: PropTypes.node,\n\n  /**\n   * Whether or not the component should cache query results.\n   */\n  useCache: PropTypes.bool\n};\nvar defaultProps = {\n  delay: 200,\n  minLength: 2,\n  options: [],\n  promptText: 'Type to search...',\n  searchText: 'Searching...',\n  useCache: true\n};\n\n/**\n * Logic that encapsulates common behavior and functionality around\n * asynchronous searches, including:\n *\n *  - Debouncing user input\n *  - Optional query caching\n *  - Search prompt and empty results behaviors\n */\nexport function useAsync(props) {\n  var allowNew = props.allowNew,\n      delay = props.delay,\n      emptyLabel = props.emptyLabel,\n      isLoading = props.isLoading,\n      minLength = props.minLength,\n      onInputChange = props.onInputChange,\n      onSearch = props.onSearch,\n      options = props.options,\n      promptText = props.promptText,\n      searchText = props.searchText,\n      useCache = props.useCache,\n      otherProps = _objectWithoutPropertiesLoose(props, [\"allowNew\", \"delay\", \"emptyLabel\", \"isLoading\", \"minLength\", \"onInputChange\", \"onSearch\", \"options\", \"promptText\", \"searchText\", \"useCache\"]);\n\n  var cacheRef = useRef({});\n  var queryRef = useRef(props.defaultInputValue || '');\n  var forceUpdate = useForceUpdate();\n  var prevProps = usePrevious(props);\n\n  var handleSearch = useCallback(function (query) {\n    console.log('handleSearch called');\n    queryRef.current = query;\n\n    if (!query || minLength && query.length < minLength) {\n      return;\n    } // Use cached results, if applicable.\n\n\n    if (useCache && cacheRef.current[query]) {\n      // Re-render the component with the cached results.\n      forceUpdate();\n      return;\n    } // Perform the search.\n\n\n    onSearch(query);\n  }, [forceUpdate, minLength, onSearch, useCache]); // Set the debounced search function.\n  var handleSearchDebouncedRef = useDebouncedCallback(handleSearch, delay);\n\n  ``\n  useEffect(function () {\n    // Ensure that we've gone from a loading to a completed state. Otherwise\n    // an empty response could get cached if the component updates during the\n    // request (eg: if the parent re-renders for some reason).\n    if (!isLoading && prevProps && prevProps.isLoading && useCache) {\n      cacheRef.current[queryRef.current] = options;\n    }\n  });\n\n  var getEmptyLabel = function getEmptyLabel() {\n    if (!queryRef.current.length) {\n      return promptText;\n    }\n\n    if (isLoading) {\n      return searchText;\n    }\n\n    return emptyLabel;\n  };\n\n  var handleInputChange = useCallback(function (query, e) {\n    onInputChange && onInputChange(query, e);\n    handleSearchDebouncedRef.callback(query);\n  }, [onInputChange]);\n\n  var cachedQuery = cacheRef.current[queryRef.current];\n  return _extends({}, otherProps, {\n    // Disable custom selections during a search if `allowNew` isn't a function.\n    allowNew: isFunction(allowNew) ? allowNew : allowNew && !isLoading,\n    emptyLabel: getEmptyLabel(),\n    isLoading: isLoading,\n    minLength: minLength,\n    onInputChange: handleInputChange,\n    options: useCache && cachedQuery ? cachedQuery : options\n  });\n}\nexport function withAsync(Component) {\n  var AsyncTypeahead = /*#__PURE__*/forwardRef(function (props, ref) {\n    return /*#__PURE__*/React.createElement(Component, _extends({}, useAsync(props), {\n      ref: ref\n    }));\n  });\n  AsyncTypeahead.displayName = \"withAsync(\" + getDisplayName(Component) + \")\"; // $FlowFixMe\n\n  AsyncTypeahead.propTypes = propTypes; // $FlowFixMe\n\n  AsyncTypeahead.defaultProps = defaultProps;\n  return AsyncTypeahead;\n}\nexport default function asyncContainer(Component) {\n  /* istanbul ignore next */\n  warn(false, 'The `asyncContainer` export is deprecated; use `withAsync` instead.');\n  /* istanbul ignore next */\n\n  return withAsync(Component);\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport cx from 'classnames';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { isSizeLarge, noop } from '../utils';\nimport { sizeType } from '../propTypes';\nimport { BACKSPACE } from '../constants';\nvar propTypes = {\n  label: PropTypes.string,\n  onClick: PropTypes.func,\n  onKeyDown: PropTypes.func,\n  size: sizeType\n};\nvar defaultProps = {\n  label: 'Clear',\n  onClick: noop,\n  onKeyDown: noop\n};\n\n/**\r\n * ClearButton\r\n *\r\n * http://getbootstrap.com/css/#helper-classes-close\r\n */\nvar ClearButton = function ClearButton(_ref) {\n  var className = _ref.className,\n      label = _ref.label,\n      _onClick = _ref.onClick,\n      _onKeyDown = _ref.onKeyDown,\n      size = _ref.size,\n      props = _objectWithoutPropertiesLoose(_ref, [\"className\", \"label\", \"onClick\", \"onKeyDown\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"button\", _extends({}, props, {\n    \"aria-label\": label,\n    className: cx('close', 'rbt-close', {\n      'rbt-close-lg': isSizeLarge(size)\n    }, className),\n    onClick: function onClick(e) {\n      e.stopPropagation();\n\n      _onClick(e);\n    },\n    onKeyDown: function onKeyDown(e) {\n      // Prevent browser from navigating back.\n      if (e.keyCode === BACKSPACE) {\n        e.preventDefault();\n      }\n\n      _onKeyDown(e);\n    },\n    type: \"button\"\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-hidden\": \"true\"\n  }, \"\\xD7\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sr-only\"\n  }, label));\n};\n\nClearButton.propTypes = propTypes;\nClearButton.defaultProps = defaultProps;\nexport default ClearButton;","import PropTypes from 'prop-types';\nimport React from 'react';\nvar propTypes = {\n  label: PropTypes.string\n};\nvar defaultProps = {\n  label: 'Loading...'\n};\n\nvar Loader = function Loader(_ref) {\n  var label = _ref.label;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"rbt-loader spinner-border spinner-border-sm\",\n    role: \"status\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sr-only\"\n  }, label));\n};\n\nLoader.propTypes = propTypes;\nLoader.defaultProps = defaultProps;\nexport default Loader;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* eslint-disable react/no-unused-prop-types */\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { Popper } from 'react-popper';\nimport { values } from '../utils';\nimport { ALIGN } from '../constants';\n// `Element` is not defined during server-side rendering, so shim it here.\n\n/* istanbul ignore next */\nvar SafeElement = typeof Element === 'undefined' ? function () {} : Element;\nvar propTypes = {\n  /**\r\n   * Specify menu alignment. The default value is `justify`, which makes the\r\n   * menu as wide as the input and truncates long values. Specifying `left`\r\n   * or `right` will align the menu to that side and the width will be\r\n   * determined by the length of menu item values.\r\n   */\n  align: PropTypes.oneOf(values(ALIGN)),\n  children: PropTypes.func.isRequired,\n\n  /**\r\n   * Specify whether the menu should appear above the input.\r\n   */\n  dropup: PropTypes.bool,\n\n  /**\r\n   * Whether or not to automatically adjust the position of the menu when it\r\n   * reaches the viewport boundaries.\r\n   */\n  flip: PropTypes.bool,\n  isMenuShown: PropTypes.bool,\n  positionFixed: PropTypes.bool,\n  referenceElement: PropTypes.instanceOf(SafeElement)\n};\nvar defaultProps = {\n  align: ALIGN.JUSTIFY,\n  dropup: false,\n  flip: false,\n  isMenuShown: false,\n  positionFixed: false\n};\n\nfunction getModifiers(_ref) {\n  var align = _ref.align,\n      flip = _ref.flip;\n  return {\n    computeStyles: {\n      enabled: true,\n      fn: function fn(_ref2) {\n        var styles = _ref2.styles,\n            data = _objectWithoutPropertiesLoose(_ref2, [\"styles\"]);\n\n        return _extends({}, data, {\n          styles: _extends({}, styles, {\n            // Use the following condition instead of `align === 'justify'`\n            // since it allows the component to fall back to justifying the\n            // menu width if `align` is undefined.\n            width: align !== ALIGN.RIGHT && align !== ALIGN.LEFT ? // Set the popper width to match the target width.\n            data.offsets.reference.width : styles.width\n          })\n        });\n      }\n    },\n    flip: {\n      enabled: flip\n    },\n    preventOverflow: {\n      escapeWithReference: true\n    }\n  };\n} // Flow expects a string literal value for `placement`.\n\n\nvar PLACEMENT = {\n  bottom: {\n    end: 'bottom-end',\n    start: 'bottom-start'\n  },\n  top: {\n    end: 'top-end',\n    start: 'top-start'\n  }\n};\nexport function getPlacement(_ref3) {\n  var align = _ref3.align,\n      dropup = _ref3.dropup;\n  var x = align === ALIGN.RIGHT ? 'end' : 'start';\n  var y = dropup ? 'top' : 'bottom';\n  return PLACEMENT[y][x];\n}\n\nvar Overlay = function Overlay(props) {\n  var children = props.children,\n      isMenuShown = props.isMenuShown,\n      positionFixed = props.positionFixed,\n      referenceElement = props.referenceElement;\n\n  if (!isMenuShown) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(Popper, {\n    modifiers: getModifiers(props),\n    placement: getPlacement(props),\n    positionFixed: positionFixed,\n    referenceElement: referenceElement\n  }, function (_ref4) {\n    var ref = _ref4.ref,\n        popperProps = _objectWithoutPropertiesLoose(_ref4, [\"ref\"]);\n\n    return children(_extends({}, popperProps, {\n      innerRef: ref,\n      inputHeight: referenceElement ? referenceElement.offsetHeight : 0\n    }));\n  });\n};\n\nOverlay.propTypes = propTypes;\nOverlay.defaultProps = defaultProps;\nexport default Overlay;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport useRootClose from \"react-overlays/useRootClose\";\nimport { getDisplayName, isFunction, warn } from '../utils';\nimport { BACKSPACE } from '../constants';\nimport { optionType } from '../propTypes';\nvar propTypes = {\n  onBlur: PropTypes.func,\n  onClick: PropTypes.func,\n  onFocus: PropTypes.func,\n  onRemove: PropTypes.func,\n  option: optionType.isRequired\n};\nexport var useToken = function useToken(_ref) {\n  var onBlur = _ref.onBlur,\n      onClick = _ref.onClick,\n      onFocus = _ref.onFocus,\n      onRemove = _ref.onRemove,\n      option = _ref.option,\n      props = _objectWithoutPropertiesLoose(_ref, [\"onBlur\", \"onClick\", \"onFocus\", \"onRemove\", \"option\"]);\n\n  var _useState = useState(false),\n      active = _useState[0],\n      setActive = _useState[1];\n\n  var _useState2 = useState(null),\n      rootElement = _useState2[0],\n      attachRef = _useState2[1];\n\n  var handleActiveChange = function handleActiveChange(e, isActive, callback) {\n    e.stopPropagation();\n    setActive(isActive);\n    typeof callback === 'function' && callback(e);\n  };\n\n  var handleBlur = function handleBlur(e) {\n    handleActiveChange(e, false, onBlur);\n  };\n\n  var handleClick = function handleClick(e) {\n    handleActiveChange(e, true, onClick);\n  };\n\n  var handleFocus = function handleFocus(e) {\n    handleActiveChange(e, true, onFocus);\n  };\n\n  var handleRemove = function handleRemove() {\n    onRemove && onRemove(option);\n  };\n\n  var handleKeyDown = function handleKeyDown(e) {\n    switch (e.keyCode) {\n      case BACKSPACE:\n        if (active) {\n          // Prevent backspace keypress from triggering the browser \"back\"\n          // action.\n          e.preventDefault();\n          handleRemove();\n        }\n\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  useRootClose(rootElement, handleBlur, _extends({}, props, {\n    disabled: !active\n  }));\n  return _extends({}, props, {\n    active: active,\n    onBlur: handleBlur,\n    onClick: handleClick,\n    onFocus: handleFocus,\n    onKeyDown: handleKeyDown,\n    onRemove: isFunction(onRemove) ? handleRemove : undefined,\n    ref: attachRef\n  });\n};\nexport var withToken = function withToken(Component) {\n  var displayName = \"withToken(\" + getDisplayName(Component) + \")\";\n\n  var WrappedToken = function WrappedToken(props) {\n    return /*#__PURE__*/React.createElement(Component, useToken(props));\n  };\n\n  WrappedToken.displayName = displayName;\n  WrappedToken.propTypes = propTypes;\n  return WrappedToken;\n};\nexport default function tokenContainer(Component) {\n  /* istanbul ignore next */\n  warn(false, 'The `tokenContainer` export is deprecated; use `withToken` instead.');\n  /* istanbul ignore next */\n\n  return withToken(Component);\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport cx from 'classnames';\nimport React, { forwardRef } from 'react';\nimport ClearButton from './ClearButton';\nimport { withToken } from '../behaviors/token';\nimport { isFunction } from '../utils';\nvar InteractiveToken = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var active = _ref.active,\n      children = _ref.children,\n      className = _ref.className,\n      onRemove = _ref.onRemove,\n      tabIndex = _ref.tabIndex,\n      props = _objectWithoutPropertiesLoose(_ref, [\"active\", \"children\", \"className\", \"onRemove\", \"tabIndex\"]);\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, props, {\n    className: cx('rbt-token', 'rbt-token-removeable', {\n      'rbt-token-active': !!active\n    }, className),\n    ref: ref,\n    tabIndex: tabIndex || 0\n  }), children, /*#__PURE__*/React.createElement(ClearButton, {\n    className: \"rbt-token-remove-button\",\n    label: \"Remove\",\n    onClick: onRemove,\n    tabIndex: -1\n  }));\n});\n\nvar StaticToken = function StaticToken(_ref2) {\n  var children = _ref2.children,\n      className = _ref2.className,\n      disabled = _ref2.disabled,\n      href = _ref2.href;\n  var classnames = cx('rbt-token', {\n    'rbt-token-disabled': disabled\n  }, className);\n\n  if (href && !disabled) {\n    return /*#__PURE__*/React.createElement(\"a\", {\n      className: classnames,\n      href: href\n    }, children);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classnames\n  }, children);\n};\n/**\r\n * Token\r\n *\r\n * Individual token component, generally displayed within the TokenizerInput\r\n * component, but can also be rendered on its own.\r\n */\n\n\nvar Token = /*#__PURE__*/forwardRef(function (props, ref) {\n  var disabled = props.disabled,\n      onRemove = props.onRemove,\n      readOnly = props.readOnly;\n  return !disabled && !readOnly && isFunction(onRemove) ? /*#__PURE__*/React.createElement(InteractiveToken, _extends({}, props, {\n    ref: ref\n  })) : /*#__PURE__*/React.createElement(StaticToken, props);\n});\nexport default withToken(Token);","function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport invariant from 'invariant';\nimport React, { cloneElement, useEffect, useRef } from 'react';\nimport { useTypeaheadContext } from '../core/Context';\nimport { isSelectable } from '../utils';\nimport { RETURN, RIGHT, TAB } from '../constants';\n\n// IE doesn't seem to get the composite computed value (eg: 'padding',\n// 'borderStyle', etc.), so generate these from the individual values.\nfunction interpolateStyle(styles, attr, subattr) {\n  if (subattr === void 0) {\n    subattr = '';\n  }\n\n  // Title-case the sub-attribute.\n  if (subattr) {\n    /* eslint-disable-next-line no-param-reassign */\n    subattr = subattr.replace(subattr[0], subattr[0].toUpperCase());\n  }\n\n  return ['Top', 'Right', 'Bottom', 'Left'].map(function (dir) {\n    return styles[attr + dir + subattr];\n  }).join(' ');\n}\n\nfunction copyStyles(inputNode, hintNode) {\n  if (!inputNode || !hintNode) {\n    return;\n  }\n\n  var inputStyle = window.getComputedStyle(inputNode);\n  /* eslint-disable no-param-reassign */\n\n  hintNode.style.borderStyle = interpolateStyle(inputStyle, 'border', 'style');\n  hintNode.style.borderWidth = interpolateStyle(inputStyle, 'border', 'width');\n  hintNode.style.fontSize = inputStyle.fontSize;\n  hintNode.style.height = inputStyle.height;\n  hintNode.style.lineHeight = inputStyle.lineHeight;\n  hintNode.style.margin = interpolateStyle(inputStyle, 'margin');\n  hintNode.style.padding = interpolateStyle(inputStyle, 'padding');\n  /* eslint-enable no-param-reassign */\n}\n\nexport function defaultShouldSelect(e, state) {\n  var shouldSelectHint = false;\n  var currentTarget = e.currentTarget,\n      keyCode = e.keyCode;\n\n  if (keyCode === RIGHT) {\n    // For selectable input types (\"text\", \"search\"), only select the hint if\n    // it's at the end of the input value. For non-selectable types (\"email\",\n    // \"number\"), always select the hint.\n    shouldSelectHint = isSelectable(currentTarget) ? currentTarget.selectionStart === currentTarget.value.length : true;\n  }\n\n  if (keyCode === TAB) {\n    // Prevent input from blurring on TAB.\n    e.preventDefault();\n    shouldSelectHint = true;\n  }\n\n  if (keyCode === RETURN) {\n    shouldSelectHint = !!state.selectHintOnEnter;\n  }\n\n  return typeof state.shouldSelect === 'function' ? state.shouldSelect(shouldSelectHint, e) : shouldSelectHint;\n}\nexport var useHint = function useHint(_ref) {\n  var children = _ref.children,\n      shouldSelect = _ref.shouldSelect;\n  !(React.Children.count(children) === 1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, '`useHint` expects one child.') : invariant(false) : void 0;\n\n  var _useTypeaheadContext = useTypeaheadContext(),\n      hintText = _useTypeaheadContext.hintText,\n      initialItem = _useTypeaheadContext.initialItem,\n      inputNode = _useTypeaheadContext.inputNode,\n      onAdd = _useTypeaheadContext.onAdd,\n      selectHintOnEnter = _useTypeaheadContext.selectHintOnEnter;\n\n  var hintRef = useRef(null);\n\n  var onKeyDown = function onKeyDown(e) {\n    if (hintText && initialItem && defaultShouldSelect(e, {\n      selectHintOnEnter: selectHintOnEnter,\n      shouldSelect: shouldSelect\n    })) {\n      onAdd(initialItem);\n    }\n\n    children.props.onKeyDown && children.props.onKeyDown(e);\n  };\n\n  useEffect(function () {\n    copyStyles(inputNode, hintRef.current);\n  });\n  return {\n    child: /*#__PURE__*/cloneElement(children, _extends({}, children.props, {\n      onKeyDown: onKeyDown\n    })),\n    hintRef: hintRef,\n    hintText: hintText\n  };\n};\n\nvar Hint = function Hint(_ref2) {\n  var className = _ref2.className,\n      props = _objectWithoutPropertiesLoose(_ref2, [\"className\"]);\n\n  var _useHint = useHint(props),\n      child = _useHint.child,\n      hintRef = _useHint.hintRef,\n      hintText = _useHint.hintText;\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: className,\n    style: {\n      display: 'flex',\n      flex: 1,\n      height: '100%',\n      position: 'relative'\n    }\n  }, child, /*#__PURE__*/React.createElement(\"input\", {\n    \"aria-hidden\": true,\n    className: \"rbt-input-hint\",\n    ref: hintRef,\n    readOnly: true,\n    style: {\n      backgroundColor: 'transparent',\n      borderColor: 'transparent',\n      boxShadow: 'none',\n      color: 'rgba(0, 0, 0, 0.35)',\n      left: 0,\n      pointerEvents: 'none',\n      position: 'absolute',\n      top: 0,\n      width: '100%'\n    },\n    tabIndex: -1,\n    value: hintText\n  }));\n};\n\nexport default Hint;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport cx from 'classnames';\nimport React from 'react';\nvar Input = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(\"input\", _extends({}, props, {\n    className: cx('rbt-input-main', props.className),\n    ref: ref\n  }));\n});\nexport default Input;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport cx from 'classnames';\nimport React from 'react';\nimport { getDisplayName, isSizeLarge, isSizeSmall } from '../utils';\n\nfunction withClassNames(Component) {\n  // Use a class instead of function component to support refs.\n\n  /* eslint-disable-next-line react/prefer-stateless-function */\n  var WrappedComponent = /*#__PURE__*/function (_React$Component) {\n    _inheritsLoose(WrappedComponent, _React$Component);\n\n    function WrappedComponent() {\n      return _React$Component.apply(this, arguments) || this;\n    }\n\n    var _proto = WrappedComponent.prototype;\n\n    _proto.render = function render() {\n      var _this$props = this.props,\n          className = _this$props.className,\n          isInvalid = _this$props.isInvalid,\n          isValid = _this$props.isValid,\n          size = _this$props.size,\n          props = _objectWithoutPropertiesLoose(_this$props, [\"className\", \"isInvalid\", \"isValid\", \"size\"]);\n\n      return /*#__PURE__*/React.createElement(Component, _extends({}, props, {\n        className: cx('form-control', 'rbt-input', {\n          'form-control-lg': isSizeLarge(size),\n          'form-control-sm': isSizeSmall(size),\n          'is-invalid': isInvalid,\n          'is-valid': isValid\n        }, className)\n      }));\n    };\n\n    return WrappedComponent;\n  }(React.Component);\n\n  _defineProperty(WrappedComponent, \"displayName\", \"withClassNames(\" + getDisplayName(Component) + \")\");\n\n  return WrappedComponent;\n}\n\nexport default withClassNames;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n\n/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport cx from 'classnames';\nimport React from 'react';\nimport Hint from './Hint';\nimport Input from './Input';\nimport { isSelectable } from '../utils';\nimport withClassNames from '../behaviors/classNames';\nimport { BACKSPACE } from '../constants';\n\nvar TypeaheadInputMulti = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(TypeaheadInputMulti, _React$Component);\n\n  function TypeaheadInputMulti() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"wrapperRef\", /*#__PURE__*/React.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"_input\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"getInputRef\", function (input) {\n      _this._input = input;\n\n      _this.props.inputRef(input);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_handleContainerClickOrFocus\", function (e) {\n      // Don't focus the input if it's disabled.\n      if (_this.props.disabled) {\n        e.currentTarget.blur();\n        return;\n      } // Move cursor to the end if the user clicks outside the actual input.\n\n\n      var inputNode = _this._input;\n\n      if (!inputNode) {\n        return;\n      }\n\n      if (e.currentTarget !== inputNode && isSelectable(inputNode)) {\n        inputNode.selectionStart = inputNode.value.length;\n      }\n\n      inputNode.focus();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_handleKeyDown\", function (e) {\n      var _this$props = _this.props,\n          onKeyDown = _this$props.onKeyDown,\n          selected = _this$props.selected,\n          value = _this$props.value;\n\n      switch (e.keyCode) {\n        case BACKSPACE:\n          if (e.currentTarget === _this._input && selected.length && !value) {\n            // Prevent browser from going back.\n            e.preventDefault(); // If the input is selected and there is no text, focus the last\n            // token when the user hits backspace.\n\n            if (_this.wrapperRef.current) {\n              var children = _this.wrapperRef.current.children;\n              var lastToken = children[children.length - 2];\n              lastToken && lastToken.focus();\n            }\n          }\n\n          break;\n\n        default:\n          break;\n      }\n\n      onKeyDown(e);\n    });\n\n    return _this;\n  }\n\n  var _proto = TypeaheadInputMulti.prototype;\n\n  _proto.render = function render() {\n    var _this$props2 = this.props,\n        children = _this$props2.children,\n        className = _this$props2.className,\n        inputClassName = _this$props2.inputClassName,\n        inputRef = _this$props2.inputRef,\n        placeholder = _this$props2.placeholder,\n        referenceElementRef = _this$props2.referenceElementRef,\n        selected = _this$props2.selected,\n        shouldSelectHint = _this$props2.shouldSelectHint,\n        props = _objectWithoutPropertiesLoose(_this$props2, [\"children\", \"className\", \"inputClassName\", \"inputRef\", \"placeholder\", \"referenceElementRef\", \"selected\", \"shouldSelectHint\"]);\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: cx('rbt-input-multi', className),\n      disabled: props.disabled,\n      onClick: this._handleContainerClickOrFocus,\n      onFocus: this._handleContainerClickOrFocus,\n      ref: referenceElementRef,\n      tabIndex: -1\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"rbt-input-wrapper\",\n      ref: this.wrapperRef\n    }, children, /*#__PURE__*/React.createElement(Hint, {\n      shouldSelect: shouldSelectHint\n    }, /*#__PURE__*/React.createElement(Input, _extends({}, props, {\n      className: inputClassName,\n      onKeyDown: this._handleKeyDown,\n      placeholder: selected.length ? '' : placeholder,\n      ref: this.getInputRef,\n      style: {\n        backgroundColor: 'transparent',\n        border: 0,\n        boxShadow: 'none',\n        cursor: 'inherit',\n        outline: 'none',\n        padding: 0,\n        width: '100%',\n        zIndex: 1\n      }\n    })))));\n  };\n\n  return TypeaheadInputMulti;\n}(React.Component);\n\nexport default withClassNames(TypeaheadInputMulti);","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from 'react';\nimport Hint from './Hint';\nimport Input from './Input';\nimport withClassNames from '../behaviors/classNames';\nexport default withClassNames(function (_ref) {\n  var inputRef = _ref.inputRef,\n      referenceElementRef = _ref.referenceElementRef,\n      shouldSelectHint = _ref.shouldSelectHint,\n      props = _objectWithoutPropertiesLoose(_ref, [\"inputRef\", \"referenceElementRef\", \"shouldSelectHint\"]);\n\n  return /*#__PURE__*/React.createElement(Hint, {\n    shouldSelect: shouldSelectHint\n  }, /*#__PURE__*/React.createElement(Input, _extends({}, props, {\n    ref: function ref(node) {\n      inputRef(node);\n      referenceElementRef(node);\n    }\n  })));\n});","function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { getMatchBounds } from '../utils';\nvar propTypes = {\n  children: PropTypes.string.isRequired,\n  highlightClassName: PropTypes.string,\n  search: PropTypes.string.isRequired\n};\nvar defaultProps = {\n  highlightClassName: 'rbt-highlight-text'\n};\n\n/**\r\n * Stripped-down version of https://github.com/helior/react-highlighter\r\n *\r\n * Results are already filtered by the time the component is used internally so\r\n * we can safely ignore case and diacritical marks for the purposes of matching.\r\n */\nvar Highlighter = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(Highlighter, _React$PureComponent);\n\n  function Highlighter() {\n    return _React$PureComponent.apply(this, arguments) || this;\n  }\n\n  var _proto = Highlighter.prototype;\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        children = _this$props.children,\n        highlightClassName = _this$props.highlightClassName,\n        search = _this$props.search;\n\n    if (!search || !children) {\n      return children;\n    }\n\n    var matchCount = 0;\n    var remaining = children;\n    var highlighterChildren = [];\n\n    while (remaining) {\n      var bounds = getMatchBounds(remaining, search); // No match anywhere in the remaining string, stop.\n\n      if (!bounds) {\n        highlighterChildren.push(remaining);\n        break;\n      } // Capture the string that leads up to a match.\n\n\n      var nonMatch = remaining.slice(0, bounds.start);\n\n      if (nonMatch) {\n        highlighterChildren.push(nonMatch);\n      } // Capture the matching string.\n\n\n      var match = remaining.slice(bounds.start, bounds.end);\n      highlighterChildren.push( /*#__PURE__*/React.createElement(\"mark\", {\n        className: highlightClassName,\n        key: matchCount\n      }, match));\n      matchCount += 1; // And if there's anything left over, continue the loop.\n\n      remaining = remaining.slice(bounds.end);\n    }\n\n    return highlighterChildren;\n  };\n\n  return Highlighter;\n}(React.PureComponent);\n\n_defineProperty(Highlighter, \"propTypes\", propTypes);\n\n_defineProperty(Highlighter, \"defaultProps\", defaultProps);\n\nexport default Highlighter;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport scrollIntoView from 'scroll-into-view-if-needed';\nimport React, { useCallback, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { useTypeaheadContext } from '../core/Context';\nimport { getDisplayName, getMenuItemId, preventInputBlur, warn } from '../utils';\nimport { optionType } from '../propTypes';\nvar propTypes = {\n  option: optionType.isRequired,\n  position: PropTypes.number\n};\nexport var useItem = function useItem(_ref) {\n  var label = _ref.label,\n      onClick = _ref.onClick,\n      option = _ref.option,\n      position = _ref.position,\n      props = _objectWithoutPropertiesLoose(_ref, [\"label\", \"onClick\", \"option\", \"position\"]);\n\n  var _useTypeaheadContext = useTypeaheadContext(),\n      activeIndex = _useTypeaheadContext.activeIndex,\n      id = _useTypeaheadContext.id,\n      isOnlyResult = _useTypeaheadContext.isOnlyResult,\n      onActiveItemChange = _useTypeaheadContext.onActiveItemChange,\n      onInitialItemChange = _useTypeaheadContext.onInitialItemChange,\n      onMenuItemClick = _useTypeaheadContext.onMenuItemClick,\n      setItem = _useTypeaheadContext.setItem;\n\n  var itemRef = useRef(null);\n  useEffect(function () {\n    if (position === 0) {\n      onInitialItemChange(option);\n    }\n  });\n  useEffect(function () {\n    if (position === activeIndex) {\n      onActiveItemChange(option); // Automatically scroll the menu as the user keys through it.\n\n      var node = itemRef.current;\n      node && scrollIntoView(node, {\n        block: 'nearest',\n        boundary: node.parentNode,\n        inline: 'nearest',\n        scrollMode: 'if-needed'\n      });\n    }\n  });\n  var handleClick = useCallback(function (e) {\n    onMenuItemClick(option, e);\n    onClick && onClick(e);\n  }, [onClick, onMenuItemClick, option]);\n  var active = isOnlyResult || activeIndex === position; // Update the item's position in the item stack.\n\n  setItem(option, position);\n  return _extends({}, props, {\n    active: active,\n    'aria-label': label,\n    'aria-selected': active,\n    id: getMenuItemId(id, position),\n    onClick: handleClick,\n    onMouseDown: preventInputBlur,\n    ref: itemRef,\n    role: 'option'\n  });\n};\nexport var withItem = function withItem(Component) {\n  var displayName = \"withItem(\" + getDisplayName(Component) + \")\";\n\n  var WrappedMenuItem = function WrappedMenuItem(props) {\n    return /*#__PURE__*/React.createElement(Component, useItem(props));\n  };\n\n  WrappedMenuItem.displayName = displayName;\n  WrappedMenuItem.propTypes = propTypes;\n  return WrappedMenuItem;\n};\nexport default function menuItemContainer(Component) {\n  /* istanbul ignore next */\n  warn(false, 'The `menuItemContainer` export is deprecated; use `withItem` instead.');\n  /* istanbul ignore next */\n\n  return withItem(Component);\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport cx from 'classnames';\nimport React from 'react';\nimport { withItem } from '../behaviors/item';\nvar BaseMenuItem = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var active = _ref.active,\n      children = _ref.children,\n      className = _ref.className,\n      disabled = _ref.disabled,\n      _onClick = _ref.onClick,\n      onMouseDown = _ref.onMouseDown,\n      props = _objectWithoutPropertiesLoose(_ref, [\"active\", \"children\", \"className\", \"disabled\", \"onClick\", \"onMouseDown\"]);\n\n  return (\n    /*#__PURE__*/\n\n    /* eslint-disable jsx-a11y/anchor-is-valid */\n    React.createElement(\"a\", _extends({}, props, {\n      className: cx('dropdown-item', {\n        active: active,\n        disabled: disabled\n      }, className),\n      href: \"#\",\n      onClick: function onClick(e) {\n        e.preventDefault();\n        !disabled && _onClick && _onClick(e);\n      },\n      onMouseDown: onMouseDown,\n      ref: ref\n    }), children)\n    /* eslint-enable jsx-a11y/anchor-is-valid */\n\n  );\n});\nexport { BaseMenuItem };\nexport default withItem(BaseMenuItem);","function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { Children } from 'react';\nimport { BaseMenuItem } from './MenuItem';\nimport { preventInputBlur } from '../utils';\nimport { checkPropType, isRequiredForA11y } from '../propTypes';\n\nvar MenuDivider = function MenuDivider(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dropdown-divider\",\n    role: \"separator\"\n  });\n};\n\nvar MenuHeader = function MenuHeader(props) {\n  return (\n    /*#__PURE__*/\n    // eslint-disable-next-line jsx-a11y/role-has-required-aria-props\n    React.createElement(\"div\", _extends({}, props, {\n      className: \"dropdown-header\",\n      role: \"heading\"\n    }))\n  );\n};\n\nvar propTypes = {\n  'aria-label': PropTypes.string,\n\n  /**\r\n   * Message to display in the menu if there are no valid results.\r\n   */\n  emptyLabel: PropTypes.node,\n\n  /**\r\n   * Needed for accessibility.\r\n   */\n  id: checkPropType(PropTypes.oneOfType([PropTypes.number, PropTypes.string]), isRequiredForA11y),\n\n  /**\r\n   * Maximum height of the dropdown menu.\r\n   */\n  maxHeight: PropTypes.string\n};\nvar defaultProps = {\n  'aria-label': 'menu-options',\n  emptyLabel: 'No matches found.',\n  maxHeight: '300px'\n};\n\n/**\r\n * Menu component that handles empty state when passed a set of results.\r\n */\nvar Menu = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Menu, _React$Component);\n\n  function Menu() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = Menu.prototype;\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _this$props = this.props,\n        inputHeight = _this$props.inputHeight,\n        scheduleUpdate = _this$props.scheduleUpdate; // Update the menu position if the height of the input changes.\n\n    if (inputHeight !== prevProps.inputHeight) {\n      scheduleUpdate();\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props2 = this.props,\n        children = _this$props2.children,\n        className = _this$props2.className,\n        emptyLabel = _this$props2.emptyLabel,\n        id = _this$props2.id,\n        innerRef = _this$props2.innerRef,\n        maxHeight = _this$props2.maxHeight,\n        style = _this$props2.style,\n        text = _this$props2.text;\n    var contents = Children.count(children) === 0 ? /*#__PURE__*/React.createElement(BaseMenuItem, {\n      disabled: true,\n      role: \"option\"\n    }, emptyLabel) : children;\n    return (\n      /*#__PURE__*/\n\n      /* eslint-disable jsx-a11y/interactive-supports-focus */\n      React.createElement(\"div\", {\n        \"aria-label\": this.props['aria-label'],\n        className: cx('rbt-menu', 'dropdown-menu', 'show', className),\n        id: id,\n        key: // Force a re-render if the text changes to ensure that menu\n        // positioning updates correctly.\n        text,\n        onMouseDown: // Prevent input from blurring when clicking on the menu scrollbar.\n        preventInputBlur,\n        ref: innerRef,\n        role: \"listbox\",\n        style: _extends({}, style, {\n          display: 'block',\n          maxHeight: maxHeight,\n          overflow: 'auto'\n        })\n      }, contents)\n      /* eslint-enable jsx-a11y/interactive-supports-focus */\n\n    );\n  };\n\n  return Menu;\n}(React.Component);\n\n_defineProperty(Menu, \"propTypes\", propTypes);\n\n_defineProperty(Menu, \"defaultProps\", defaultProps);\n\n_defineProperty(Menu, \"Divider\", MenuDivider);\n\n_defineProperty(Menu, \"Header\", MenuHeader);\n\nexport default Menu;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport Highlighter from './Highlighter';\nimport Menu from './Menu';\nimport MenuItem from './MenuItem';\nimport { getOptionLabel, getOptionProperty } from '../utils';\nvar propTypes = {\n  /**\r\n   * Provides the ability to specify a prefix before the user-entered text to\r\n   * indicate that the selection will be new. No-op unless `allowNew={true}`.\r\n   */\n  newSelectionPrefix: PropTypes.node,\n\n  /**\r\n   * Prompt displayed when large data sets are paginated.\r\n   */\n  paginationText: PropTypes.node,\n\n  /**\r\n   * Provides a hook for customized rendering of menu item contents.\r\n   */\n  renderMenuItemChildren: PropTypes.func\n};\nvar defaultProps = {\n  newSelectionPrefix: 'New selection: ',\n  paginationText: 'Display additional results...',\n  renderMenuItemChildren: function renderMenuItemChildren(option, props, idx) {\n    return /*#__PURE__*/React.createElement(Highlighter, {\n      search: props.text\n    }, getOptionLabel(option, props.labelKey));\n  }\n};\n\nvar TypeaheadMenu = function TypeaheadMenu(props) {\n  var labelKey = props.labelKey,\n      newSelectionPrefix = props.newSelectionPrefix,\n      options = props.options,\n      paginationText = props.paginationText,\n      renderMenuItemChildren = props.renderMenuItemChildren,\n      text = props.text,\n      menuProps = _objectWithoutPropertiesLoose(props, [\"labelKey\", \"newSelectionPrefix\", \"options\", \"paginationText\", \"renderMenuItemChildren\", \"text\"]);\n\n  var renderMenuItem = function renderMenuItem(option, position) {\n    var label = getOptionLabel(option, labelKey);\n    var menuItemProps = {\n      disabled: getOptionProperty(option, 'disabled'),\n      label: label,\n      option: option,\n      position: position\n    };\n\n    if (option.customOption) {\n      return /*#__PURE__*/React.createElement(MenuItem, _extends({}, menuItemProps, {\n        className: \"rbt-menu-custom-option\",\n        key: position,\n        label: label\n      }), newSelectionPrefix, /*#__PURE__*/React.createElement(Highlighter, {\n        search: text\n      }, label));\n    }\n\n    if (option.paginationOption) {\n      return /*#__PURE__*/React.createElement(Fragment, {\n        key: \"pagination-item\"\n      }, /*#__PURE__*/React.createElement(Menu.Divider, null), /*#__PURE__*/React.createElement(MenuItem, _extends({}, menuItemProps, {\n        className: \"rbt-menu-pagination-option\",\n        label: paginationText\n      }), paginationText));\n    }\n\n    return /*#__PURE__*/React.createElement(MenuItem, _extends({}, menuItemProps, {\n      key: position\n    }), renderMenuItemChildren(option, props, position));\n  };\n\n  return (\n    /*#__PURE__*/\n    // Explictly pass `text` so Flow doesn't complain...\n    React.createElement(Menu, _extends({}, menuProps, {\n      text: text\n    }), options.map(renderMenuItem))\n  );\n};\n\nTypeaheadMenu.propTypes = propTypes;\nTypeaheadMenu.defaultProps = defaultProps;\nexport default TypeaheadMenu;","function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { forwardRef, useState } from 'react';\nimport useRootClose from \"react-overlays/useRootClose\";\nimport Typeahead from '../core/Typeahead';\nimport ClearButton from './ClearButton';\nimport Loader from './Loader';\nimport Overlay from './Overlay';\nimport Token from './Token';\nimport TypeaheadInputMulti from './TypeaheadInputMulti';\nimport TypeaheadInputSingle from './TypeaheadInputSingle';\nimport TypeaheadMenu from './TypeaheadMenu';\nimport { getOptionLabel, isFunction, isSizeLarge, pick, preventInputBlur } from '../utils';\nimport { checkPropType, inputPropsType, sizeType } from '../propTypes';\nvar propTypes = {\n  /**\r\n   * Displays a button to clear the input when there are selections.\r\n   */\n  clearButton: PropTypes.bool,\n\n  /**\r\n   * Props to be applied directly to the input. `onBlur`, `onChange`,\r\n   * `onFocus`, and `onKeyDown` are ignored.\r\n   */\n  inputProps: checkPropType(PropTypes.object, inputPropsType),\n\n  /**\r\n   * Bootstrap 4 only. Adds the `is-invalid` classname to the `form-control`.\r\n   */\n  isInvalid: PropTypes.bool,\n\n  /**\r\n   * Indicate whether an asynchronous data fetch is happening.\r\n   */\n  isLoading: PropTypes.bool,\n\n  /**\r\n   * Bootstrap 4 only. Adds the `is-valid` classname to the `form-control`.\r\n   */\n  isValid: PropTypes.bool,\n\n  /**\r\n   * Callback for custom input rendering.\r\n   */\n  renderInput: PropTypes.func,\n\n  /**\r\n   * Callback for custom menu rendering.\r\n   */\n  renderMenu: PropTypes.func,\n\n  /**\r\n   * Callback for custom menu rendering.\r\n   */\n  renderToken: PropTypes.func,\n\n  /**\r\n   * Specifies the size of the input.\r\n   */\n  size: sizeType\n};\nvar defaultProps = {\n  clearButton: false,\n  inputProps: {},\n  isInvalid: false,\n  isLoading: false,\n  isValid: false,\n  renderMenu: function renderMenu(results, menuProps, props) {\n    return /*#__PURE__*/React.createElement(TypeaheadMenu, _extends({}, menuProps, {\n      labelKey: props.labelKey,\n      options: results,\n      text: props.text\n    }));\n  },\n  renderToken: function renderToken(option, props, idx) {\n    return /*#__PURE__*/React.createElement(Token, {\n      disabled: props.disabled,\n      key: idx,\n      onRemove: props.onRemove,\n      option: option,\n      tabIndex: props.tabIndex\n    }, getOptionLabel(option, props.labelKey));\n  }\n};\n\nfunction getOverlayProps(props) {\n  return pick(props, ['align', 'dropup', 'flip', 'positionFixed']);\n}\n\nvar RootClose = function RootClose(_ref) {\n  var children = _ref.children,\n      onRootClose = _ref.onRootClose,\n      props = _objectWithoutPropertiesLoose(_ref, [\"children\", \"onRootClose\"]);\n\n  var _useState = useState(null),\n      rootElement = _useState[0],\n      attachRef = _useState[1];\n\n  useRootClose(rootElement, onRootClose, props);\n  return children(attachRef);\n};\n\nvar TypeaheadComponent = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(TypeaheadComponent, _React$Component);\n\n  function TypeaheadComponent() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"_referenceElement\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"referenceElementRef\", function (referenceElement) {\n      _this._referenceElement = referenceElement;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_renderInput\", function (inputProps, props) {\n      var _this$props = _this.props,\n          isInvalid = _this$props.isInvalid,\n          isValid = _this$props.isValid,\n          multiple = _this$props.multiple,\n          renderInput = _this$props.renderInput,\n          renderToken = _this$props.renderToken,\n          size = _this$props.size;\n\n      if (isFunction(renderInput)) {\n        return renderInput(inputProps, props);\n      }\n\n      var commonProps = _extends({}, inputProps, {\n        isInvalid: isInvalid,\n        isValid: isValid,\n        size: size\n      });\n\n      if (!multiple) {\n        return /*#__PURE__*/React.createElement(TypeaheadInputSingle, commonProps);\n      }\n\n      var labelKey = props.labelKey,\n          onRemove = props.onRemove,\n          selected = props.selected;\n      return /*#__PURE__*/React.createElement(TypeaheadInputMulti, _extends({}, commonProps, {\n        selected: selected\n      }), selected.map(function (option, idx) {\n        return renderToken(option, _extends({}, commonProps, {\n          labelKey: labelKey,\n          onRemove: onRemove\n        }), idx);\n      }));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_renderMenu\", function (results, menuProps, props) {\n      var _this$props2 = _this.props,\n          emptyLabel = _this$props2.emptyLabel,\n          id = _this$props2.id,\n          maxHeight = _this$props2.maxHeight,\n          newSelectionPrefix = _this$props2.newSelectionPrefix,\n          paginationText = _this$props2.paginationText,\n          renderMenu = _this$props2.renderMenu,\n          renderMenuItemChildren = _this$props2.renderMenuItemChildren;\n      return renderMenu(results, _extends({}, menuProps, {\n        emptyLabel: emptyLabel,\n        id: id,\n        maxHeight: maxHeight,\n        newSelectionPrefix: newSelectionPrefix,\n        paginationText: paginationText,\n        renderMenuItemChildren: renderMenuItemChildren\n      }), props);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_renderAux\", function (_ref2) {\n      var onClear = _ref2.onClear,\n          selected = _ref2.selected;\n      var _this$props3 = _this.props,\n          clearButton = _this$props3.clearButton,\n          disabled = _this$props3.disabled,\n          isLoading = _this$props3.isLoading,\n          size = _this$props3.size;\n      var content;\n\n      if (isLoading) {\n        content = /*#__PURE__*/React.createElement(Loader, null);\n      } else if (clearButton && !disabled && selected.length) {\n        content = /*#__PURE__*/React.createElement(ClearButton, {\n          onClick: onClear,\n          onFocus: function onFocus(e) {\n            // Prevent the main input from auto-focusing again.\n            e.stopPropagation();\n          },\n          onMouseDown: preventInputBlur,\n          size: size\n        });\n      }\n\n      return content ? /*#__PURE__*/React.createElement(\"div\", {\n        className: cx('rbt-aux', {\n          'rbt-aux-lg': isSizeLarge(size)\n        })\n      }, content) : null;\n    });\n\n    return _this;\n  }\n\n  var _proto = TypeaheadComponent.prototype;\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props4 = this.props,\n        children = _this$props4.children,\n        className = _this$props4.className,\n        instanceRef = _this$props4.instanceRef,\n        open = _this$props4.open,\n        options = _this$props4.options,\n        style = _this$props4.style;\n    return /*#__PURE__*/React.createElement(Typeahead, _extends({}, this.props, {\n      options: options,\n      ref: instanceRef\n    }), function (_ref3) {\n      var getInputProps = _ref3.getInputProps,\n          props = _objectWithoutPropertiesLoose(_ref3, [\"getInputProps\"]);\n\n      var hideMenu = props.hideMenu,\n          isMenuShown = props.isMenuShown,\n          results = props.results;\n\n      var auxContent = _this2._renderAux(props);\n\n      return /*#__PURE__*/React.createElement(RootClose, {\n        disabled: open || !isMenuShown,\n        onRootClose: hideMenu\n      }, function (ref) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: cx('rbt', {\n            'has-aux': !!auxContent\n          }, className),\n          ref: ref,\n          style: _extends({}, style, {\n            outline: 'none',\n            position: 'relative'\n          }),\n          tabIndex: -1\n        }, _this2._renderInput(_extends({}, getInputProps(_this2.props.inputProps), {\n          referenceElementRef: _this2.referenceElementRef\n        }), props), /*#__PURE__*/React.createElement(Overlay, _extends({}, getOverlayProps(_this2.props), {\n          isMenuShown: isMenuShown,\n          referenceElement: _this2._referenceElement\n        }), function (menuProps) {\n          return _this2._renderMenu(results, menuProps, props);\n        }), auxContent, isFunction(children) ? children(props) : children);\n      });\n    });\n  };\n\n  return TypeaheadComponent;\n}(React.Component);\n\n_defineProperty(TypeaheadComponent, \"propTypes\", propTypes);\n\n_defineProperty(TypeaheadComponent, \"defaultProps\", defaultProps);\n\nexport default /*#__PURE__*/forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(TypeaheadComponent, _extends({}, props, {\n    instanceRef: ref\n  }));\n});","import { withAsync } from '../behaviors/async';\nimport Typeahead from './Typeahead';\nexport default withAsync(Typeahead);","import React, { useState, useCallback, useRef } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport LoadingButton from '../components/LoadingButton';\r\nimport Form from 'react-bootstrap/Form';\r\nimport InputGroup from 'react-bootstrap/InputGroup';\r\nimport Spinner from 'react-bootstrap/Spinner';\r\nimport { AsyncTypeahead } from 'react-bootstrap-typeahead';\r\nimport 'react-bootstrap-typeahead/css/Typeahead.css';\r\n\r\nexport default function() {\r\n  const [ loading, setLoading ] = useState(false);\r\n  const [ suggestions, setSuggestions ] = useState([]);\r\n  const [ selected, setSelected ] = useState([]);\r\n  const [ error, setError ] = useState('');\r\n  const [ submitted, setSubmitted ] = useState(false);\r\n  const history = useHistory();\r\n  const el = useRef(null);\r\n\r\n  const handleSearch = useCallback(value => {\r\n    if (value === '') {\r\n      setLoading(false);\r\n      setSuggestions([]);\r\n      return [];\r\n    }\r\n\r\n    setLoading(true);\r\n    return fetch(process.env.REACT_APP_API + '/search', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({query:value}),\r\n    })\r\n    .then(response => response.ok && response.json())\r\n    .then(data => {\r\n      setLoading(false);\r\n      setSuggestions(data);\r\n    })\r\n    .catch(err => console.log(err));\r\n  }, [setLoading, setSuggestions]);\r\n\r\n  const handleSubmit = useCallback(e => {\r\n    e.preventDefault();\r\n    setSubmitted(true);\r\n    if (el.current.state.activeIndex === -1) {\r\n      fetch(process.env.REACT_APP_API + '/search-by-username', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({query : el.current.state.text})\r\n      })\r\n      .then(response => response.ok && response.json())\r\n      .then(data => {\r\n        setTimeout(() => {\r\n          setSubmitted(false);\r\n          if (data) history.push(`/user/${data._id}`);\r\n          else setError(\"User not found\");\r\n        }, 400);\r\n      })\r\n    }\r\n    else history.push(`/user/${el.current.state.activeItem._id}`);\r\n  }, [el, history]);\r\n\r\n  const handleInputChange = useCallback(() => {\r\n    setError('');\r\n    if (el.current.state.text !== '') setLoading(true);\r\n    else setLoading(false);\r\n  }, [el, setLoading]);\r\n\r\n  return (\r\n    <Container fluid className=\"h-50 d-flex flex-column align-items-center justify-content-center\">\r\n      <Row><Col><h1>Ankiboards</h1></Col></Row>\r\n      <Row><Col><h4>Leaderboards for Anki</h4></Col></Row>\r\n      <Row className=\"py-5\">\r\n        <Col>\r\n          <Form onSubmit={handleSubmit}>\r\n            <Form.Group>\r\n              {<Form.Text className=\"text-danger pb-3\" style={{height:'2em'}}>{error ? error: ' '}{error && <br/>}</Form.Text>}\r\n              <InputGroup>\r\n                <AsyncTypeahead\r\n                  ref={el}\r\n                  id=\"User Search\"\r\n                  delay={100}\r\n                  minLength={1}\r\n                  labelKey=\"username\"\r\n                  isLoading={loading}\r\n                  onSearch={handleSearch}\r\n                  options={suggestions}\r\n                  onChange={(selected) => {setSelected(selected)}}\r\n                  onActiveItemChange={item => console.log(item)}\r\n                  selected={selected}\r\n                  placeholder=\"Search for a user...\"\r\n                  onKeyDown={e => {if (e.key === 'Enter') handleSubmit(e)}}\r\n                  onInputChange={handleInputChange}\r\n                  useCache={false}\r\n                />\r\n                <InputGroup.Append>\r\n                    <LoadingButton loaded={!submitted} type=\"submit\" variant={\"dark\"} style={{ minWidth:\"80px\" }}>\r\n                      Search\r\n                    </LoadingButton>\r\n                </InputGroup.Append>\r\n              </InputGroup>\r\n            </Form.Group>\r\n          </Form>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  )\r\n}","import React from 'react';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Collapse from 'react-bootstrap/Collapse';\r\n\r\nexport default function FormField(props) {\r\n  const { \r\n    id, \r\n    label, \r\n    type, \r\n    placeholder, \r\n    value, \r\n    isInvalid, \r\n    onChange, \r\n    errorMessage,\r\n    ...otherProps\r\n  } = props;\r\n  return (\r\n    <Form.Group {...otherProps} controlId={`form-${id}`}>\r\n      <Form.Label>{label}</Form.Label>\r\n      <Form.Control \r\n        type={type}\r\n        placeholder={placeholder} \r\n        value={value} \r\n        isInvalid={errorMessage}\r\n        onChange={onChange}\r\n      />\r\n      <Collapse in={errorMessage !== ''}>\r\n        <Form.Text className=\"text-danger m-0 p-0\">\r\n          {errorMessage}\r\n        </Form.Text>\r\n      </Collapse>\r\n    </Form.Group>\r\n  );\r\n}","import React, { useState, useEffect, useContext, createContext } from 'react';\r\nimport * as firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyBogzlbTQy23RqoY6z1WT7asvpn2uCwsEs\",\r\n  authDomain: \"ankiboards-f7b90.firebaseapp.com\",\r\n  databaseURL: \"https://ankiboards-f7b90.firebaseio.com\",\r\n  projectId: \"ankiboards-f7b90\",\r\n  storageBucket: \"ankiboards-f7b90.appspot.com\",\r\n  messagingSenderId: \"586644990846\",\r\n  appId: \"1:586644990846:web:0b9b32292b5b16cd7b212f\",\r\n  measurementId: \"G-YZTENY8YK2\"\r\n};\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nconst authContext = createContext();\r\n\r\nexport function ProvideAuth({ children }) {\r\n  const auth = useProvideAuth();\r\n  return <authContext.Provider value={auth}>{children}</authContext.Provider>\r\n}\r\n\r\nexport const useAuth = () => {\r\n  return useContext(authContext);\r\n}\r\n\r\nfunction useProvideAuth() {\r\n  const [ user, setUser ] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = firebase.auth().onAuthStateChanged(user => {\r\n      if (user) setUser(user);\r\n      else setUser(null);\r\n    })\r\n    return unsubscribe;\r\n  }, []);\r\n\r\n  const signin = (email, password) => {\r\n    return firebase.auth().signInWithEmailAndPassword(email, password)\r\n      .then(response => {\r\n        setUser(response.user);\r\n        return response.user;\r\n      });\r\n  };\r\n\r\n  const signup = (email, password) => {\r\n    return firebase.auth().createUserWithEmailAndPassword(email, password)\r\n      .then(response => {\r\n        setUser(response.user);\r\n        return response.user;\r\n      });\r\n  };\r\n\r\n  const signout = () => {\r\n    return firebase.auth().signOut()\r\n      .then(() => {\r\n        setUser(false);\r\n      });\r\n  };\r\n\r\n  const sendPasswordResetEmail = email => {\r\n    return firebase.auth().sendPasswordResetEmail(email)\r\n      .then(() => {\r\n        return true;\r\n      });\r\n  };\r\n\r\n  const confirmPasswordReset = (code, password) => {\r\n    return firebase\r\n      .auth()\r\n      .confirmPasswordReset(code, password)\r\n      .then(() => {\r\n        return true;\r\n      });\r\n  };\r\n\r\n  return {\r\n    user,\r\n    signin,\r\n    signout,\r\n    signup,\r\n    sendPasswordResetEmail,\r\n    confirmPasswordReset,\r\n  }\r\n}\r\n","import React, { useState, useCallback } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Collapse from 'react-bootstrap/Collapse';\r\nimport LoadingButton from '../components/LoadingButton';\r\nimport FormField from '../components/FormField';\r\nimport { useAuth } from '../behaviors/use-auth';\r\n\r\nexport default function() {\r\n  const emailPair = useState({\r\n    id: 'email',\r\n    label: 'Email',\r\n    placeholder: \"penguin2squishy@gmail.com\",\r\n    value: '', \r\n    error: '',\r\n    type: 'text'\r\n  });\r\n  const pwordPair = useState({\r\n    id: 'password', \r\n    label: 'Password',\r\n    value: '', \r\n    error: '',\r\n    placeholder: 'password',\r\n    type: 'password'\r\n  });\r\n  const email = emailPair[0];\r\n  const pword = pwordPair[0];\r\n\r\n  const [ loading, setLoading ] = useState(null);\r\n  const auth = useAuth();\r\n  const history = useHistory();\r\n\r\n  const handleSubmit = useCallback(e => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    auth.signin(email.value, pword.value)\r\n    .then(() => history.push('/'))\r\n    .catch(err => {\r\n      console.log(err);\r\n      switch(err.code) {\r\n        case 'auth/invalid-email':\r\n          emailPair[1]({...email, error: err.message});\r\n          break;\r\n      }\r\n      setLoading(false);\r\n    })\r\n  });\r\n\r\n\r\n  return (\r\n    <Container fluid className=\"h-75 d-flex flex-column justify-content-center p-5\">\r\n      <Row className=\"justify-content-center\">\r\n        <Col style={{maxWidth: '400px'}} className=\"bg-light p-5\">\r\n          <h1 className=\"text-center mb-5\">Sign In</h1>\r\n          <Form onSubmit={handleSubmit}>\r\n            { [emailPair, pwordPair].map(pair => {\r\n              const {id, error, value, ...others} = pair[0];\r\n              return <FormField\r\n                key={id}\r\n                {...others}\r\n                errorMessage={error}\r\n                onChange={e => { pair[1]({...pair[0], value: e.target.value, error: ''}) }}\r\n              />\r\n            })}\r\n            <div className=\"my-5\"></div>\r\n            <LoadingButton loaded={!loading} type=\"submit\" block onClick={handleSubmit}>Submit</LoadingButton>\r\n            <Form.Text>...or <Link to=\"/signup\">sign up</Link></Form.Text>\r\n          </Form>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  )\r\n}","import React, { useState, useCallback } from 'react';\r\nimport { Redirect, Link, useHistory } from 'react-router-dom';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Collapse from 'react-bootstrap/Collapse';\r\nimport LoadingButton from '../components/LoadingButton';\r\nimport FormField from '../components/FormField';\r\nimport { useAuth } from '../behaviors/use-auth';\r\n\r\nexport default function() {\r\n  const usernamePair = useState({\r\n    id: 'username', \r\n    label: 'Username',\r\n    placeholder: \"penguinman\",\r\n    value: '', \r\n    error: '',\r\n    type: 'text',\r\n  });\r\n  const emailPair = useState({\r\n    id: 'email',\r\n    label: 'Email',\r\n    placeholder: \"penguin2squishy@gmail.com\",\r\n    value: '', \r\n    error: '',\r\n    type: 'text'\r\n  });\r\n  const pwordPair = useState({\r\n    id: 'password', \r\n    label: 'Password',\r\n    value: '', \r\n    error: '',\r\n    placeholder: 'password',\r\n    type: 'password'\r\n  });\r\n  const secondPwordPair = useState({\r\n    id: 'secondPassword', \r\n    label: 'Re-enter Password',\r\n    value: '', \r\n    error: '',\r\n    placeholder: 'password',\r\n    type: 'password'\r\n  });\r\n  const username = usernamePair[0];\r\n  const email = emailPair[0];\r\n  const pword = pwordPair[0];\r\n  const secondPword = secondPwordPair[0];\r\n\r\n  const history = useHistory();\r\n  const [ loading, setLoading ] = useState(false);\r\n  const auth = useAuth();\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    auth.signup(email.value, pword.value)\r\n      .then(user => {\r\n        console.log('firebase account created...');\r\n        user.updateProfile({ displayName: username.value, });\r\n        signupRequest(user);\r\n      })\r\n      .then(() => history.push('/'))\r\n      .catch(err => {\r\n        switch(err.code) {\r\n          case 'auth/invalid-email':\r\n          case 'auth/email-already-in-use':\r\n            emailPair[1]({...email, error: err.message});\r\n            break;\r\n          case 'auth/weak-password':\r\n            pwordPair[1]({...pword, error: err.message});\r\n            break;\r\n        }\r\n      })\r\n      .then(() => {\r\n        setLoading(false);\r\n      });\r\n  }\r\n\r\n  const signupRequest = async user => {\r\n    const params = new URLSearchParams({\r\n      firebaseUid: user.uid,\r\n      username: username.value,\r\n    });\r\n    const str = params.toString();\r\n    console.log(str);\r\n    return fetch(process.env.REACT_APP_API + '/signup', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/x-www-form-urlencoded',\r\n      },\r\n      body: str,\r\n    })\r\n    .catch(async err => {\r\n      const j = await err.json();\r\n      console.log(j);\r\n    })\r\n    .then(data => console.log(data));\r\n  }\r\n\r\n  return (\r\n    <Container fluid className=\"h-75 d-flex flex-column justify-content-center p-5\">\r\n      <Row className=\"justify-content-center\">\r\n        <Col style={{maxWidth: '400px'}} className=\"bg-light p-5\">\r\n          <h1 className=\"text-center mb-5\">Sign Up</h1>\r\n          <Form onSubmit={handleSubmit}>\r\n            { [usernamePair, emailPair, pwordPair, secondPwordPair].map(pair => {\r\n              const {id, error, value, ...others} = pair[0];\r\n              return <FormField\r\n                key={id}\r\n                value={value}\r\n                {...others}\r\n                errorMessage={error}\r\n                onChange={e => {\r\n                  pair[1]({...pair[0], value: e.target.value, error: ''});\r\n                }}\r\n              />\r\n            })}\r\n            <LoadingButton loaded={!loading} type=\"submit\" block onClick={handleSubmit}>Submit</LoadingButton>\r\n            <Form.Text>...or <Link to=\"/login\">log in</Link></Form.Text>\r\n          </Form>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  )\r\n}","import React, { useEffect, useState, useCallback } from 'react';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport { withLoading } from '../components/LoadingContainer';\r\nimport { useAuth } from '../behaviors/use-auth';\r\n\r\nfunction ProfileSettingsPage(props) {\r\n  const auth = useAuth();\r\n  const [ username, setUsername ] = useState('');\r\n  const [ json, setJson ] = useState('');\r\n\r\n  const fetchProfileData = useCallback(async () => {\r\n    const token = await auth.user.getIdToken(true);\r\n    return (\r\n      fetch(process.env.REACT_APP_API + '/profile', {\r\n        headers: {\r\n          'Authorization' : `Bearer ${token}`,\r\n        }\r\n      }).then(response => response.text())\r\n        .then(data => console.log(data))\r\n        .catch(err => console.log(err))\r\n    );\r\n  });\r\n\r\n  useEffect(() => {\r\n    console.log('?')\r\n    if (auth.user) {\r\n      setUsername(auth.displayName ? auth.displayName : '');\r\n      fetchProfileData();\r\n    }\r\n  }, [auth.user])\r\n\r\n  const handleSubmit = useCallback(async e => {\r\n    e.preventDefault();\r\n    const token = await auth.user.getIdToken(true);\r\n\r\n    // Update on backend\r\n    fetch(process.env.REACT_APP_API + '/profile-name', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/x-www-form-urlencoded',\r\n        'Authorization': `Bearer ${token}`,\r\n      }, \r\n      body: await new URLSearchParams({username: username}).toString(),\r\n    });\r\n\r\n    // Update on firebase. TODO: move this to backend!\r\n    auth.user.updateProfile({\r\n      displayName: username,\r\n    })\r\n    .then(() => console.log('success', auth.user.displayName))\r\n    .catch(err => console.log(err));\r\n  });\r\n\r\n  return (\r\n    <Container \r\n      fluid \r\n      className=\"h-100 d-flex flex-column my-5\"\r\n      {...props}\r\n    >\r\n      <Row className=\"mb-2\">\r\n        <Col>\r\n          <Form>\r\n            <Form.Text>Cards studied: </Form.Text>\r\n            <Form.Group>\r\n              <Form.Control \r\n                type=\"text\" \r\n                placeholder={\"ass\"}\r\n                value={username} \r\n                onChange={e => setUsername(e.target.value)}\r\n              />\r\n            </Form.Group>\r\n            <Button onClick={handleSubmit}>click me</Button>\r\n          </Form>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n}\r\nexport default ProfileSettingsPage;","import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Col from 'react-bootstrap/Col';\r\nimport {withLoading} from '../components/LoadingContainer';\r\n\r\nexport default function ({ match }) {\r\n  const params = useParams();\r\n  const queryId = params.id;\r\n  const [ user, setProfileInfo ] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetch(process.env.REACT_APP_API + `/user/${queryId}`).then( response => {\r\n      if (response.ok) return response.json();\r\n    })\r\n    .then(data => {\r\n      console.log(data);\r\n      setProfileInfo(data);\r\n    })\r\n    .catch(err => console.log(err))\r\n  }, []);\r\n\r\n  return ( \r\n    <Container fluid className=\"h-100 d-flex flex-column m-5\">\r\n      <Row className=\"mb-2\">\r\n        <h1>{user && user.username}</h1>\r\n      </Row>\r\n      <Row>\r\n        <h4>Cards studied: {user && user.ankiInfo.cardsStudied}</h4>\r\n      </Row>\r\n    </Container>\r\n  )\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { Link, useHistory, Route, Switch, useLocation } from 'react-router-dom';\r\nimport Navbar from 'react-bootstrap/Navbar';\r\nimport Nav from 'react-bootstrap/Nav';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Cookies from 'js-cookie';\r\nimport { useAuth } from '../behaviors/use-auth';\r\n\r\nexport default function({userId, onLogout}) {\r\n  const history = useHistory();\r\n  const [user, setUser] = useState(null);\r\n  const auth = useAuth();\r\n\r\n  const handleSignOut = e => {\r\n    e.preventDefault();\r\n    auth.signout();\r\n    history.push('/');\r\n  }\r\n\r\n  return (\r\n    <Navbar bg=\"dark\" variant=\"dark\" expand=\"lg\" className=\"shadow\">\r\n      <Navbar.Brand as={Link} to=\"/\">Ankiboards</Navbar.Brand>\r\n      <Nav \r\n        className=\"mr-auto flex-row\" \r\n        style={{fontSize: '1.25rem'}} \r\n        activeKey={history.location.pathname} \r\n      >\r\n        <Nav.Item className=\"pr-3\">\r\n          <Nav.Link as={Link} to=\"/profile\" eventKey=\"/profile\">Profile</Nav.Link>\r\n        </Nav.Item>\r\n        <Nav.Item>\r\n          <Nav.Link as={Link} to=\"/test\" eventKey=\"/test\">Profile</Nav.Link>\r\n        </Nav.Item>\r\n      </Nav>\r\n      <Navbar.Collapse className=\"justify-content-end\">\r\n        { auth.user ? \r\n          <div>\r\n            <Navbar.Text>Signed in as: <span className=\"text-light mr-2\">{auth.user.displayName}</span></Navbar.Text>\r\n            <Button variant=\"primary\" href=\"/\" onClick={handleSignOut}>Logout</Button>\r\n          </div> :\r\n          <>\r\n            <Link to=\"/login\"><Button className=\"mx-1\" variant=\"outline-primary\">Sign in</Button></Link>\r\n            <Link to=\"/signup\"><Button className=\"mx-1\" variant=\"outline-light\">Sign up</Button></Link>\r\n          </>\r\n        }\r\n      </Navbar.Collapse>\r\n    </Navbar>\r\n  )\r\n}","import React, { useEffect, useState, useRef } from 'react';\nimport { Link, useHistory, Route, Switch, useLocation } from 'react-router-dom';\nimport { HomePage, LoginPage, SignUpPage, ProfileSettingsPage, UserPage } from './pages';\n// import Navbar from 'react-bootstrap/Navbar';\nimport Navbar from './components/Navbar';\nimport Cookies from 'js-cookie';\nimport './App.css';\n\nfunction App() {\n  const [userId, setUserId] = useState(null);\n  const location = useLocation();\n\n  const handleSignOut = e => {\n    e.preventDefault();\n    if (Cookies.get('header.payload')) Cookies.remove('header.payload');\n    setUserId(null);\n  }\n\n  return (\n    <div className=\"d-flex flex-column h-100 align-content-stretch\">\n      <Navbar userId={userId} onLogout={() => setUserId(null)}/>\n      <Switch>\n        <Route path='/' exact><HomePage/></Route>\n        <Route path='/login'><LoginPage/></Route>\n        <Route path='/signup'><SignUpPage/></Route>\n        <Route path='/profile'><></></Route> {/* Under Construction! */}\n        <Route path='/user/:id'><UserPage/></Route>\n      </Switch>\n    </div>\n  )\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport * as firebase from 'firebase/app';\nimport { ProvideAuth } from './behaviors/use-auth';\n\nReactDOM.render(\n  <React.StrictMode>\n    <ProvideAuth>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </ProvideAuth>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}